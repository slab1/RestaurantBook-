(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{6277:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});var n=s(1897);let a=(0,n.Z)("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]])},3640:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});var n=s(1897);let a=(0,n.Z)("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]])},7323:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});var n=s(1897);let a=(0,n.Z)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]])},5927:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});var n=s(1897);let a=(0,n.Z)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},1661:function(e,t,s){Promise.resolve().then(s.bind(s,4323))},4323:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return S}});var n=s(1758),a=s(8230),i=s.n(a),r=s(5295),c=s(3107),l=s(9996),o=s(8631),d=s(4806),u=s(7902),m=s(8922),x=s(6612);function h(){let[e,t]=(0,r.useState)([]),[s,a]=(0,r.useState)(!0);(0,r.useEffect)(()=>{i()},[]);let i=async()=>{try{let e=await x.Z.get("/api/restaurants?limit=6");t(e.data.restaurants)}catch(e){console.error("Error fetching featured restaurants:",e)}finally{a(!1)}};return s?(0,n.jsx)("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:Array.from({length:6}).map((e,t)=>(0,n.jsxs)("div",{className:"animate-pulse",children:[(0,n.jsx)("div",{className:"bg-muted h-48 rounded-lg mb-4"}),(0,n.jsxs)("div",{className:"space-y-2",children:[(0,n.jsx)("div",{className:"bg-muted h-4 rounded w-3/4"}),(0,n.jsx)("div",{className:"bg-muted h-3 rounded w-1/2"})]})]},t))}):(0,n.jsx)("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.map(e=>(0,n.jsx)(m.P,{restaurant:e},e.id))})}var f=s(2429),j=s(1897);let p=(0,j.Z)("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);var N=s(6952),g=s(3640),v=s(6277),y=s(4873),b=s(1011),w=s(8349),k=s(5927);let R=(0,j.Z)("CameraOff",[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16",key:"qmtpty"}],["path",{d:"M9.5 4h5L17 7h3a2 2 0 0 1 2 2v7.5",key:"1ufyfc"}],["path",{d:"M14.121 15.121A3 3 0 1 1 9.88 10.88",key:"11zox6"}]]);function C(e){let{onResult:t,onClose:s}=e,[a,i]=(0,r.useState)(!1),[c,o]=(0,r.useState)(!1),[d,u]=(0,r.useState)(null),m=(0,r.useRef)(null),x=(0,r.useCallback)(async()=>{if(m.current)try{u(null);let e=await navigator.mediaDevices.getUserMedia({video:{facingMode:"environment"}});o(!0),i(!0),m.current.srcObject=e,m.current.play(),(0,b.Am)({title:"Camera Active",description:"Demo mode: QR code detection will be implemented with full library."})}catch(e){console.error("Camera error:",e),u("Failed to access camera. Please check permissions."),i(!1)}},[]),h=(0,r.useCallback)(()=>{if(m.current&&m.current.srcObject){let e=m.current.srcObject.getTracks();e.forEach(e=>e.stop()),m.current.srcObject=null}i(!1)},[]),f=(0,r.useCallback)(()=>{j("https://restaurantbook.com/restaurant/demo")},[]),j=(0,r.useCallback)(e=>{h(),(0,b.Am)({title:"QR Code Scanned!",description:"Processing..."}),t&&t(e),s&&s()},[h,t,s]);return(0,n.jsxs)("div",{className:"space-y-4",children:[(0,n.jsxs)("div",{className:"flex items-center justify-between",children:[(0,n.jsx)("h3",{className:"text-lg font-semibold",children:"QR Code Scanner"}),s&&(0,n.jsx)(l.z,{variant:"ghost",size:"icon",onClick:s,children:(0,n.jsx)(k.Z,{className:"h-4 w-4"})})]}),(0,n.jsxs)("div",{className:"relative bg-black rounded-lg overflow-hidden aspect-square",children:[(0,n.jsx)("video",{ref:m,className:"w-full h-full object-cover",playsInline:!0,muted:!0}),!a&&(0,n.jsx)("div",{className:"absolute inset-0 flex items-center justify-center bg-gray-900/50",children:(0,n.jsxs)("div",{className:"text-center space-y-4",children:[c?(0,n.jsx)(N.Z,{className:"h-16 w-16 mx-auto text-white/70"}):(0,n.jsx)(R,{className:"h-16 w-16 mx-auto text-white/70"}),(0,n.jsxs)("div",{className:"space-y-2",children:[(0,n.jsx)("p",{className:"text-white font-medium",children:d||"Ready to scan"}),(0,n.jsxs)("div",{className:"space-x-2",children:[(0,n.jsx)(l.z,{onClick:x,disabled:!!d,children:"Start Camera"}),(0,n.jsx)(l.z,{variant:"outline",onClick:f,children:"Simulate Scan"})]})]})]})}),a&&(0,n.jsxs)("div",{className:"absolute bottom-4 left-0 right-0 flex justify-center space-x-2",children:[(0,n.jsx)(l.z,{variant:"destructive",onClick:h,className:"opacity-90 hover:opacity-100",children:"Stop Scanning"}),(0,n.jsx)(l.z,{variant:"outline",onClick:f,className:"bg-white/10 hover:bg-white/20 text-white",children:"Simulate QR Code"})]})]}),d&&(0,n.jsxs)("div",{className:"text-sm text-muted-foreground",children:[(0,n.jsx)("p",{children:"To scan QR codes:"}),(0,n.jsxs)("ul",{className:"list-disc list-inside space-y-1 ml-2",children:[(0,n.jsx)("li",{children:"Ensure your browser has camera permissions"}),(0,n.jsx)("li",{children:"Use a device with a camera"}),(0,n.jsx)("li",{children:'Use "Simulate QR Code" for demo'})]})]})]})}function S(){let{user:e}=(0,w.useAuth)(),t=(0,c.useRouter)(),[s,a]=(0,r.useState)(!1),[m,x]=(0,r.useState)(!1),[j,k]=(0,r.useState)(null),R=async()=>{if("Notification"in window){let e=await Notification.requestPermission();"granted"===e?(a(!0),(0,b.Am)({title:"Notifications enabled!",description:"You'll now receive booking updates and special offers."}),new Notification("Welcome to RestaurantBook!",{body:"Notifications are now active.",icon:"/icons/icon-192x192.png"})):(0,b.Am)({title:"Notifications blocked",description:"Please enable notifications in your browser settings.",variant:"destructive"})}else(0,b.Am)({title:"Notifications not supported",description:"Your browser doesn't support notifications.",variant:"destructive"})};return(0,n.jsxs)("div",{className:"space-y-12",children:[(0,n.jsx)("section",{className:"text-center",children:(0,n.jsxs)("div",{className:"mx-auto max-w-4xl space-y-6",children:[(0,n.jsx)("h1",{className:"text-4xl font-bold tracking-tight sm:text-6xl",children:"Discover and Book Amazing Restaurants"}),(0,n.jsx)("p",{className:"text-lg text-muted-foreground",children:"Find the perfect dining experience for any occasion. Book tables at your favorite restaurants with just a few clicks."}),(0,n.jsxs)("div",{className:"flex justify-center",children:[(0,n.jsx)(i(),{href:"/restaurants",children:(0,n.jsx)(l.z,{size:"lg",className:"mr-4",children:"Browse Restaurants"})}),(0,n.jsx)(i(),{href:"/register",children:(0,n.jsx)(l.z,{size:"lg",variant:"outline",children:"Sign Up"})})]})]})}),(0,n.jsx)("section",{className:"mx-auto max-w-4xl",children:(0,n.jsx)(u.E,{})}),(0,n.jsx)("section",{children:(0,n.jsxs)("div",{className:"mx-auto max-w-6xl",children:[(0,n.jsxs)("div",{className:"text-center mb-12",children:[(0,n.jsx)("h2",{className:"text-3xl font-bold tracking-tight mb-4",children:"Why Choose RestaurantBook?"}),(0,n.jsx)("p",{className:"text-lg text-muted-foreground",children:"The easiest way to discover and book restaurant tables"})]}),(0,n.jsxs)("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:[(0,n.jsxs)(o.Zb,{className:"cursor-pointer hover:shadow-lg transition-shadow",onClick:()=>{"mediaDevices"in navigator&&navigator.mediaDevices.getUserMedia?(x(!0),k(null)):(0,b.Am)({title:"Camera not available",description:"Camera access is required for QR scanning.",variant:"destructive"})},children:[(0,n.jsxs)(o.Ol,{className:"text-center",children:[(0,n.jsx)(f.Z,{className:"h-10 w-10 mx-auto mb-2 text-primary"}),(0,n.jsx)(o.ll,{children:"Scan QR Code"})]}),(0,n.jsx)(o.aY,{children:(0,n.jsx)(o.SZ,{className:"text-center",children:"Scan restaurant QR codes to view menus and make instant reservations"})})]}),(0,n.jsxs)(o.Zb,{className:"cursor-pointer hover:shadow-lg transition-shadow",onClick:R,children:[(0,n.jsxs)(o.Ol,{className:"text-center",children:[(0,n.jsx)(p,{className:"h-10 w-10 mx-auto mb-2 text-primary"}),(0,n.jsx)(o.ll,{children:s?"Notifications On":"Enable Notifications"})]}),(0,n.jsx)(o.aY,{children:(0,n.jsx)(o.SZ,{className:"text-center",children:s?"You'll receive booking confirmations and special offers":"Get notified about bookings and exclusive offers"})})]}),(0,n.jsxs)(o.Zb,{className:"cursor-pointer hover:shadow-lg transition-shadow",onClick:()=>t.push("/nearby"),children:[(0,n.jsxs)(o.Ol,{className:"text-center",children:[(0,n.jsx)(N.Z,{className:"h-10 w-10 mx-auto mb-2 text-primary"}),(0,n.jsx)(o.ll,{children:"AR Experience"})]}),(0,n.jsx)(o.aY,{children:(0,n.jsx)(o.SZ,{className:"text-center",children:"View restaurants in augmented reality for immersive dining experiences"})})]}),(0,n.jsxs)(o.Zb,{children:[(0,n.jsxs)(o.Ol,{className:"text-center",children:[(0,n.jsx)(g.Z,{className:"h-10 w-10 mx-auto mb-2 text-primary"}),(0,n.jsx)(o.ll,{children:"Find Nearby"})]}),(0,n.jsx)(o.aY,{children:(0,n.jsx)(o.SZ,{className:"text-center",children:"Discover restaurants near you with our location-based search"})})]}),(0,n.jsxs)(o.Zb,{children:[(0,n.jsxs)(o.Ol,{className:"text-center",children:[(0,n.jsx)(v.Z,{className:"h-10 w-10 mx-auto mb-2 text-primary"}),(0,n.jsx)(o.ll,{children:"Easy Booking"})]}),(0,n.jsx)(o.aY,{children:(0,n.jsx)(o.SZ,{className:"text-center",children:"Book tables instantly with real-time availability"})})]}),(0,n.jsxs)(o.Zb,{children:[(0,n.jsxs)(o.Ol,{className:"text-center",children:[(0,n.jsx)(y.Z,{className:"h-10 w-10 mx-auto mb-2 text-primary"}),(0,n.jsx)(o.ll,{children:"Reviews & Ratings"})]}),(0,n.jsx)(o.aY,{children:(0,n.jsx)(o.SZ,{className:"text-center",children:"Read authentic reviews from verified diners"})})]})]})]})}),(0,n.jsx)("section",{children:(0,n.jsxs)("div",{className:"mx-auto max-w-6xl",children:[(0,n.jsxs)("div",{className:"text-center mb-12",children:[(0,n.jsx)("h2",{className:"text-3xl font-bold tracking-tight mb-4",children:"Featured Restaurants"}),(0,n.jsx)("p",{className:"text-lg text-muted-foreground",children:"Popular dining destinations in your area"})]}),(0,n.jsx)(h,{})]})}),(0,n.jsx)("section",{className:"bg-muted/50 rounded-lg p-12 text-center",children:(0,n.jsxs)("div",{className:"mx-auto max-w-2xl space-y-6",children:[(0,n.jsx)("h2",{className:"text-3xl font-bold tracking-tight",children:"Ready to Start Dining?"}),(0,n.jsx)("p",{className:"text-lg text-muted-foreground",children:"Join thousands of food lovers who trust RestaurantBook for their dining reservations."}),(0,n.jsx)(i(),{href:"/restaurants",children:(0,n.jsx)(l.z,{size:"lg",children:"Explore Restaurants"})})]})}),(0,n.jsx)(d.Vq,{open:m,onOpenChange:x,children:(0,n.jsxs)(d.cZ,{className:"sm:max-w-[600px]",children:[(0,n.jsx)(d.fK,{children:(0,n.jsx)(d.$N,{children:"Scan QR Code"})}),(0,n.jsx)(C,{onResult:e=>{k(e);try{let s=new URL(e);s.hostname.includes("restaurant")||s.pathname.includes("/restaurant/")?((0,b.Am)({title:"Restaurant QR Code!",description:"Redirecting to restaurant page..."}),t.push(s.pathname)):(0,b.Am)({title:"QR Code Scanned",description:"Content: "+e.substring(0,50)+(e.length>50?"...":"")})}catch(t){(0,b.Am)({title:"QR Code Scanned",description:"Content: "+e.substring(0,50)+(e.length>50?"...":"")})}},onClose:()=>x(!1)})]})})]})}},7933:function(e,t,s){"use strict";s.d(t,{z:function(){return r}});var n=s(5295),a=s(6243),i=s(6629),r=e=>{let t,s;let{present:r,children:l}=e,o=function(e){var t;let[s,a]=n.useState(),r=n.useRef(null),l=n.useRef(e),o=n.useRef("none"),d=e?"mounted":"unmounted",[u,m]=(t={mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}},n.useReducer((e,s)=>{let n=t[e][s];return n??e},d));return n.useEffect(()=>{let e=c(r.current);o.current="mounted"===u?e:"none"},[u]),(0,i.b)(()=>{let t=r.current,s=l.current,n=s!==e;if(n){let n=o.current,a=c(t);e?m("MOUNT"):"none"===a||t?.display==="none"?m("UNMOUNT"):s&&n!==a?m("ANIMATION_OUT"):m("UNMOUNT"),l.current=e}},[e,m]),(0,i.b)(()=>{if(s){let e;let t=s.ownerDocument.defaultView??window,n=n=>{let a=c(r.current),i=a.includes(CSS.escape(n.animationName));if(n.target===s&&i&&(m("ANIMATION_END"),!l.current)){let n=s.style.animationFillMode;s.style.animationFillMode="forwards",e=t.setTimeout(()=>{"forwards"===s.style.animationFillMode&&(s.style.animationFillMode=n)})}},a=e=>{e.target===s&&(o.current=c(r.current))};return s.addEventListener("animationstart",a),s.addEventListener("animationcancel",n),s.addEventListener("animationend",n),()=>{t.clearTimeout(e),s.removeEventListener("animationstart",a),s.removeEventListener("animationcancel",n),s.removeEventListener("animationend",n)}}m("ANIMATION_END")},[s,m]),{isPresent:["mounted","unmountSuspended"].includes(u),ref:n.useCallback(e=>{r.current=e?getComputedStyle(e):null,a(e)},[])}}(r),d="function"==typeof l?l({present:o.isPresent}):n.Children.only(l),u=(0,a.e)(o.ref,(t=Object.getOwnPropertyDescriptor(d.props,"ref")?.get)&&"isReactWarning"in t&&t.isReactWarning?d.ref:(t=Object.getOwnPropertyDescriptor(d,"ref")?.get)&&"isReactWarning"in t&&t.isReactWarning?d.props.ref:d.props.ref||d.ref),m="function"==typeof l;return m||o.isPresent?n.cloneElement(d,{ref:u}):null};function c(e){return e?.animationName||"none"}r.displayName="Presence"}},function(e){e.O(0,[164,790,600,136,123,969,522,744],function(){return e(e.s=1661)}),_N_E=e.O()}]);