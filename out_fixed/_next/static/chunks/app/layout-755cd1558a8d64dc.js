(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[185],{3366:function(e,t,a){Promise.resolve().then(a.t.bind(a,9353,23)),Promise.resolve().then(a.t.bind(a,829,23)),Promise.resolve().then(a.t.bind(a,229,23)),Promise.resolve().then(a.bind(a,392)),Promise.resolve().then(a.bind(a,3537)),Promise.resolve().then(a.bind(a,8349)),Promise.resolve().then(a.bind(a,1452)),Promise.resolve().then(a.bind(a,5535)),Promise.resolve().then(a.bind(a,4850)),Promise.resolve().then(a.bind(a,8685)),Promise.resolve().then(a.bind(a,2378))},392:function(e,t,a){"use strict";a.r(t),a.d(t,{MobileBottomNav:function(){return x},MobileHeader:function(){return h}});var s=a(1758),r=a(8230),n=a.n(r),i=a(3107),o=a(6797),l=a(7323),d=a(6277),c=a(3640),u=a(8080),f=a(8150);let m=[{href:"/",icon:o.Z,label:"Home"},{href:"/restaurants",icon:l.Z,label:"Search"},{href:"/bookings",icon:d.Z,label:"Bookings"},{href:"/nearby",icon:c.Z,label:"Nearby"},{href:"/profile",icon:u.Z,label:"Profile"}];function x(){let e=(0,i.usePathname)();return(0,s.jsx)("nav",{className:"fixed bottom-0 left-0 right-0 z-[100] bg-white dark:bg-gray-950 border-t border-gray-200 dark:border-gray-800 md:hidden safe-area-bottom shadow-lg",role:"navigation","aria-label":"Mobile Navigation",children:(0,s.jsx)("div",{className:"grid grid-cols-5 h-16 pb-safe-bottom",children:m.map(t=>{let a=e===t.href;return(0,s.jsxs)(n(),{href:t.href,className:(0,f.cn)("flex flex-col items-center justify-center gap-1 transition-colors min-h-[64px] touch-manipulation mobile-nav-link relative",a?"text-blue-600 dark:text-blue-400":"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-100"),style:{WebkitTapHighlightColor:"transparent",touchAction:"manipulation",minHeight:"64px",display:"flex",alignItems:"center",justifyContent:"center"},"aria-label":t.label,"aria-current":a?"page":void 0,onClick:e=>{let t=e.currentTarget;t.style.transform="scale(0.95)",setTimeout(()=>{t.style.transform=""},150)},children:[(0,s.jsx)(t.icon,{className:(0,f.cn)("h-5 w-5 transition-colors",a&&"text-blue-600 dark:text-blue-400")}),(0,s.jsx)("span",{className:"text-xs font-medium leading-none",children:t.label}),a&&(0,s.jsx)("div",{className:"absolute top-0 left-1/2 transform -translate-x-1/2 w-1 h-1 bg-blue-600 dark:bg-blue-400 rounded-full"})]},t.href)})})})}function h(e){let{title:t}=e;return(0,s.jsx)("header",{className:"sticky top-0 z-30 bg-white dark:bg-gray-950 border-b border-gray-200 dark:border-gray-800 md:hidden",children:(0,s.jsx)("div",{className:"flex items-center justify-center h-14",children:(0,s.jsx)("h1",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:t})})})}},3537:function(e,t,a){"use strict";a.r(t),a.d(t,{Navbar:function(){return z}});var s=a(1758),r=a(8230),n=a.n(r),i=a(8349),o=a(9996),l=a(5295),d=a(7562),c=a(1652),u=a(5378),f=a(2862),m=a(8150);let x=d.fC,h=d.xz;d.ZA,d.Uv,d.Tr,d.Ee;let p=l.forwardRef((e,t)=>{let{className:a,inset:r,children:n,...i}=e;return(0,s.jsxs)(d.fF,{ref:t,className:(0,m.cn)("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",r&&"pl-8",a),...i,children:[n,(0,s.jsx)(c.Z,{className:"ml-auto h-4 w-4"})]})});p.displayName=d.fF.displayName;let g=l.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(d.tu,{ref:t,className:(0,m.cn)("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",a),...r})});g.displayName=d.tu.displayName;let b=l.forwardRef((e,t)=>{let{className:a,sideOffset:r=4,...n}=e;return(0,s.jsx)(d.Uv,{children:(0,s.jsx)(d.VY,{ref:t,sideOffset:r,className:(0,m.cn)("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",a),...n})})});b.displayName=d.VY.displayName;let v=l.forwardRef((e,t)=>{let{className:a,inset:r,...n}=e;return(0,s.jsx)(d.ck,{ref:t,className:(0,m.cn)("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",r&&"pl-8",a),...n})});v.displayName=d.ck.displayName;let y=l.forwardRef((e,t)=>{let{className:a,children:r,checked:n,...i}=e;return(0,s.jsxs)(d.oC,{ref:t,className:(0,m.cn)("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",a),checked:n,...i,children:[(0,s.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,s.jsx)(d.wU,{children:(0,s.jsx)(u.Z,{className:"h-4 w-4"})})}),r]})});y.displayName=d.oC.displayName;let j=l.forwardRef((e,t)=>{let{className:a,children:r,...n}=e;return(0,s.jsxs)(d.Rk,{ref:t,className:(0,m.cn)("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",a),...n,children:[(0,s.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,s.jsx)(d.wU,{children:(0,s.jsx)(f.Z,{className:"h-2 w-2 fill-current"})})}),r]})});j.displayName=d.Rk.displayName;let N=l.forwardRef((e,t)=>{let{className:a,inset:r,...n}=e;return(0,s.jsx)(d.__,{ref:t,className:(0,m.cn)("px-2 py-1.5 text-sm font-semibold",r&&"pl-8",a),...n})});N.displayName=d.__.displayName;let w=l.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(d.Z0,{ref:t,className:(0,m.cn)("-mx-1 my-1 h-px bg-muted",a),...r})});w.displayName=d.Z0.displayName;var k=a(3262),T=a(6277),S=a(8080),E=a(524),A=a(3008);function z(){let{user:e,logout:t}=(0,i.useAuth)();return(0,s.jsx)("nav",{className:"border-b bg-background",children:(0,s.jsx)("div",{className:"container mx-auto px-4",children:(0,s.jsxs)("div",{className:"flex h-16 items-center justify-between",children:[(0,s.jsxs)(n(),{href:"/",className:"flex items-center space-x-2",children:[(0,s.jsx)(k.Z,{className:"h-6 w-6"}),(0,s.jsx)("span",{className:"text-xl font-bold",children:"RestaurantBook"})]}),(0,s.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,s.jsx)(n(),{href:"/restaurants",children:(0,s.jsx)(o.z,{variant:"ghost",children:"Restaurants"})}),e?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n(),{href:"/bookings",children:(0,s.jsxs)(o.z,{variant:"ghost",children:[(0,s.jsx)(T.Z,{className:"mr-2 h-4 w-4"}),"My Bookings"]})}),"RESTAURANT_OWNER"===e.role&&(0,s.jsx)(n(),{href:"/dashboard",children:(0,s.jsx)(o.z,{variant:"ghost",children:"Dashboard"})}),"ADMIN"===e.role&&(0,s.jsx)(n(),{href:"/admin",children:(0,s.jsx)(o.z,{variant:"ghost",children:"Admin"})}),(0,s.jsxs)(x,{children:[(0,s.jsx)(h,{asChild:!0,children:(0,s.jsx)(o.z,{variant:"ghost",className:"relative h-8 w-8 rounded-full",children:(0,s.jsx)(S.Z,{className:"h-4 w-4"})})}),(0,s.jsxs)(b,{className:"w-56",align:"end",forceMount:!0,children:[(0,s.jsx)(v,{className:"font-normal",children:(0,s.jsxs)("div",{className:"flex flex-col space-y-1",children:[(0,s.jsxs)("p",{className:"text-sm font-medium leading-none",children:[e.firstName," ",e.lastName]}),(0,s.jsx)("p",{className:"text-xs leading-none text-muted-foreground",children:e.email})]})}),(0,s.jsxs)(v,{children:[(0,s.jsx)(E.Z,{className:"mr-2 h-4 w-4"}),(0,s.jsx)("span",{children:"Settings"})]}),(0,s.jsxs)(v,{onClick:t,children:[(0,s.jsx)(A.Z,{className:"mr-2 h-4 w-4"}),(0,s.jsx)("span",{children:"Log out"})]})]})]})]}):(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)(n(),{href:"/login",children:(0,s.jsx)(o.z,{variant:"ghost",children:"Login"})}),(0,s.jsx)(n(),{href:"/register",children:(0,s.jsx)(o.z,{children:"Register"})})]})]})]})})})}},8349:function(e,t,a){"use strict";a.r(t),a.d(t,{AuthProvider:function(){return i},useAuth:function(){return o}});var s=a(1758),r=a(5295);let n=(0,r.createContext)(void 0);function i(e){let{children:t}=e,[a,i]=(0,r.useState)(null),[o,l]=(0,r.useState)(!0);(0,r.useEffect)(()=>{d()},[]);let d=async()=>{try{let e=await fetch("/api/auth/me",{credentials:"include"});if(e.ok){let t=await e.json();i(t.user)}}catch(e){console.debug("Auth check skipped:",e)}finally{l(!1)}},c=async(e,t)=>{try{l(!0);let a=await fetch("/api/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e,password:t}),credentials:"include"});if(a.ok){let e=await a.json();if(e.user)return i(e.user),!0}return!1}catch(e){return console.debug("Login not available:",e),!1}finally{l(!1)}},u=async e=>{try{l(!0);let t=await fetch("/api/auth/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e),credentials:"include"});if(t.ok){let e=await t.json();if(e.user)return i(e.user),!0}return!1}catch(e){return console.debug("Registration not available:",e),!1}finally{l(!1)}},f=async()=>{try{await fetch("/api/auth/logout",{method:"POST",credentials:"include"})}catch(e){console.debug("Logout not available:",e)}i(null)};return(0,s.jsx)(n.Provider,{value:{user:a,login:c,register:u,logout:f,loading:o},children:t})}function o(){let e=(0,r.useContext)(n);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}},1452:function(e,t,a){"use strict";a.r(t),a.d(t,{OfflineContent:function(){return u},OfflineIndicator:function(){return c},OfflineQueue:function(){return f}});var s=a(1758),r=a(5295),n=a(5354),i=a(2179),o=a(9996),l=a(8631),d=a(9270);function c(){let[e,t]=(0,r.useState)(!0),[a,i]=(0,r.useState)(!1);return((0,r.useEffect)(()=>{let e=()=>{t(!0),i(!1)},a=()=>{t(!1),i(!0)};return t(navigator.onLine),window.addEventListener("online",e),window.addEventListener("offline",a),()=>{window.removeEventListener("online",e),window.removeEventListener("offline",a)}},[]),a)?(0,s.jsx)("div",{className:"fixed top-16 left-0 right-0 z-[90] bg-orange-500 text-white px-4 py-2 text-center text-sm md:hidden safe-area-top",children:(0,s.jsxs)("div",{className:"flex items-center justify-center gap-2",children:[(0,s.jsx)(n.Z,{className:"h-4 w-4"}),(0,s.jsx)("span",{children:"You're offline. Some features may be limited."})]})}):null}function u(e){let{children:t,fallback:a}=e,[l,d]=(0,r.useState)(!0);return((0,r.useEffect)(()=>{let e=()=>d(!0),t=()=>d(!1);return d(navigator.onLine),window.addEventListener("online",e),window.addEventListener("offline",t),()=>{window.removeEventListener("online",e),window.removeEventListener("offline",t)}},[]),l)?(0,s.jsx)(s.Fragment,{children:t}):a||(0,s.jsxs)("div",{className:"flex flex-col items-center justify-center min-h-96 p-6 text-center",children:[(0,s.jsx)(n.Z,{className:"h-16 w-16 text-gray-400 mb-4"}),(0,s.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100 mb-2",children:"You're Offline"}),(0,s.jsx)("p",{className:"text-gray-600 dark:text-gray-400 mb-6 max-w-sm",children:"Check your internet connection and try again. Some features may be available offline."}),(0,s.jsxs)(o.z,{onClick:()=>window.location.reload(),variant:"outline",className:"flex items-center gap-2",children:[(0,s.jsx)(i.Z,{className:"h-4 w-4"}),"Try Again"]})]})}function f(){let[e,t]=(0,r.useState)([]);(0,r.useEffect)(()=>{let e=localStorage.getItem("offline-queue");e&&t(JSON.parse(e))},[]);let a=async()=>{for(let t of e)try{await fetch(t.url,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t.data)})}catch(e){return console.error("Failed to process queued item:",e),!1}return t([]),localStorage.removeItem("offline-queue"),!0};return(0,r.useEffect)(()=>{let t=()=>{e.length>0&&a()};return window.addEventListener("online",t),()=>window.removeEventListener("online",t)},[e]),e.length>0?(0,s.jsx)(l.Zb,{className:"fixed top-0 left-0 right-0 z-[90] bg-blue-50 dark:bg-blue-950 border-blue-200 dark:border-blue-800 p-4 safe-area-top",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(d.Z,{className:"h-4 w-4 text-blue-600 dark:text-blue-400"}),(0,s.jsxs)("span",{className:"text-sm text-blue-800 dark:text-blue-200",children:[e.length," action",e.length>1?"s":""," queued for sync"]})]}),(0,s.jsx)(o.z,{size:"sm",onClick:a,disabled:!navigator.onLine,variant:"outline",className:"text-xs",children:"Sync Now"})]})}):null}},5535:function(e,t,a){"use strict";a.r(t),a.d(t,{PWAInstallPrompt:function(){return u}});var s=a(1758),r=a(5295),n=a(9996),i=a(8631),o=a(66),l=a(5927),d=a(3900),c=a(1666);function u(){let{isInstallable:e,installApp:t}=function(){let[e,t]=(0,r.useState)(null),[a,s]=(0,r.useState)(!1),[n,i]=(0,r.useState)(!1);(0,r.useEffect)(()=>{let e=window.matchMedia("(display-mode: standalone)").matches,a=!0===window.navigator.standalone;s(e||a);let r=e=>{e.preventDefault(),t(e),i(!0)};window.addEventListener("beforeinstallprompt",r);let n=()=>{s(!0),i(!1),t(null)};return window.addEventListener("appinstalled",n),()=>{window.removeEventListener("beforeinstallprompt",r),window.removeEventListener("appinstalled",n)}},[]);let o=async()=>{if(!e)return!1;try{await e.prompt();let t=await e.userChoice;if("accepted"===t.outcome)return s(!0),i(!1),!0;return!1}catch(e){return console.error("Error installing PWA:",e),!1}finally{t(null)}};return{isInstalled:a,isInstallable:n,installApp:o,installPrompt:e}}(),[a,u]=(0,r.useState)(!0);if(!e||!a)return null;let f=async()=>{let e=await t();e&&u(!1)};return(0,s.jsx)(d.M,{children:(0,s.jsx)(c.E.div,{initial:{y:100,opacity:0},animate:{y:0,opacity:1},exit:{y:100,opacity:0},className:"fixed bottom-20 left-4 right-4 z-40 md:left-auto md:right-4 md:max-w-sm md:bottom-4 safe-area-bottom",children:(0,s.jsx)(i.Zb,{className:"p-4 bg-gradient-to-r from-blue-50 to-indigo-50 dark:from-blue-950 dark:to-indigo-950 border-blue-200 dark:border-blue-800",children:(0,s.jsxs)("div",{className:"flex items-start gap-3",children:[(0,s.jsx)("div",{className:"flex-shrink-0",children:(0,s.jsx)("div",{className:"w-10 h-10 bg-blue-600 rounded-lg flex items-center justify-center",children:(0,s.jsx)(o.Z,{className:"h-5 w-5 text-white"})})}),(0,s.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,s.jsx)("h3",{className:"text-sm font-semibold text-gray-900 dark:text-gray-100",children:"Install RestaurantBook"}),(0,s.jsx)("p",{className:"text-xs text-gray-600 dark:text-gray-400 mt-1",children:"Get the app experience with offline access and push notifications"}),(0,s.jsxs)("div",{className:"flex gap-2 mt-3",children:[(0,s.jsx)(n.z,{size:"sm",onClick:f,className:"text-xs",children:"Install"}),(0,s.jsx)(n.z,{variant:"ghost",size:"sm",onClick:()=>u(!1),className:"text-xs",children:"Not now"})]})]}),(0,s.jsx)(n.z,{variant:"ghost",size:"sm",onClick:()=>u(!1),className:"flex-shrink-0 h-6 w-6 p-0",children:(0,s.jsx)(l.Z,{className:"h-3 w-3"})})]})})})})}},4850:function(e,t,a){"use strict";a.r(t),a.d(t,{Toast:function(){return f},ToastAction:function(){return m},ToastClose:function(){return x},ToastDescription:function(){return p},ToastProvider:function(){return d},ToastTitle:function(){return h},ToastViewport:function(){return c}});var s=a(1758),r=a(5295),n=a(6892),i=a(5897),o=a(5927),l=a(8150);let d=n.zt,c=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(n.l_,{ref:t,className:(0,l.cn)("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",a),...r})});c.displayName=n.l_.displayName;let u=(0,i.j)("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),f=r.forwardRef((e,t)=>{let{className:a,variant:r,...i}=e;return(0,s.jsx)(n.fC,{ref:t,className:(0,l.cn)(u({variant:r}),a),...i})});f.displayName=n.fC.displayName;let m=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(n.aU,{ref:t,className:(0,l.cn)("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",a),...r})});m.displayName=n.aU.displayName;let x=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(n.x8,{ref:t,className:(0,l.cn)("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",a),"toast-close":"",...r,children:(0,s.jsx)(o.Z,{className:"h-4 w-4"})})});x.displayName=n.x8.displayName;let h=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(n.Dx,{ref:t,className:(0,l.cn)("text-sm font-semibold",a),...r})});h.displayName=n.Dx.displayName;let p=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(n.dk,{ref:t,className:(0,l.cn)("text-sm opacity-90",a),...r})});p.displayName=n.dk.displayName},8685:function(e,t,a){"use strict";a.r(t),a.d(t,{Toaster:function(){return i}});var s=a(1758),r=a(4850),n=a(1011);function i(){let{toasts:e}=(0,n.pm)();return(0,s.jsxs)(r.ToastProvider,{children:[e.map(function(e){let{id:t,title:a,description:n,action:i,...o}=e;return(0,s.jsxs)(r.Toast,{...o,children:[(0,s.jsxs)("div",{className:"grid gap-1",children:[a&&(0,s.jsx)(r.ToastTitle,{children:a}),n&&(0,s.jsx)(r.ToastDescription,{children:n})]}),i,(0,s.jsx)(r.ToastClose,{})]},t)}),(0,s.jsx)(r.ToastViewport,{})]})}},1011:function(e,t,a){"use strict";a.d(t,{Am:function(){return u},pm:function(){return f}});var s=a(5295);let r=0,n=new Map,i=e=>{if(n.has(e))return;let t=setTimeout(()=>{n.delete(e),c({type:"REMOVE_TOAST",toastId:e})},1e6);n.set(e,t)},o=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===t.toast.id?{...e,...t.toast}:e)};case"DISMISS_TOAST":{let{toastId:a}=t;return a?i(a):e.toasts.forEach(e=>{i(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===a||void 0===a?{...e,open:!1}:e)}}case"REMOVE_TOAST":if(void 0===t.toastId)return{...e,toasts:[]};return{...e,toasts:e.toasts.filter(e=>e.id!==t.toastId)}}},l=[],d={toasts:[]};function c(e){d=o(d,e),l.forEach(e=>{e(d)})}function u(e){let{...t}=e,a=(r=(r+1)%Number.MAX_SAFE_INTEGER).toString(),s=()=>c({type:"DISMISS_TOAST",toastId:a});return c({type:"ADD_TOAST",toast:{...t,id:a,open:!0,onOpenChange:e=>{e||s()}}}),{id:a,dismiss:s,update:e=>c({type:"UPDATE_TOAST",toast:{...e,id:a}})}}function f(){let[e,t]=s.useState(d);return s.useEffect(()=>(l.push(t),()=>{let e=l.indexOf(t);e>-1&&l.splice(e,1)}),[]),{...e,toast:u,dismiss:e=>c({type:"DISMISS_TOAST",toastId:e})}}},829:function(){}},function(e){e.O(0,[164,790,600,58,830,977,686,969,522,744],function(){return e(e.s=3366)}),_N_E=e.O()}]);