(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[150],{2898:function(e,t,s){"use strict";s.d(t,{Z:function(){return i}});var a=s(2265),r={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let n=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),i=(e,t)=>{let s=(0,a.forwardRef)(({color:s="currentColor",size:i=24,strokeWidth:l=2,absoluteStrokeWidth:c,children:o,...d},u)=>(0,a.createElement)("svg",{ref:u,...r,width:i,height:i,stroke:s,strokeWidth:c?24*Number(l)/Number(i):l,className:`lucide lucide-${n(e)}`,...d},[...t.map(([e,t])=>(0,a.createElement)(e,t)),...(Array.isArray(o)?o:[o])||[]]));return s.displayName=`${e}`,s}},998:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});var a=s(2898);let r=(0,a.Z)("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]])},1981:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});var a=s(2898);let r=(0,a.Z)("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},2894:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});var a=s(2898);let r=(0,a.Z)("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]])},2505:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});var a=s(2898);let r=(0,a.Z)("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]])},1195:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});var a=s(2898);let r=(0,a.Z)("Ban",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.9 4.9 14.2 14.2",key:"1m5liu"}]])},8203:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});var a=s(2898);let r=(0,a.Z)("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]])},3008:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});var a=s(2898);let r=(0,a.Z)("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},3523:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});var a=s(2898);let r=(0,a.Z)("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]])},1291:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});var a=s(2898);let r=(0,a.Z)("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]])},7158:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});var a=s(2898);let r=(0,a.Z)("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]])},9224:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});var a=s(2898);let r=(0,a.Z)("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]])},6141:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});var a=s(2898);let r=(0,a.Z)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]])},1298:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});var a=s(2898);let r=(0,a.Z)("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]])},5817:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});var a=s(2898);let r=(0,a.Z)("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]])},9670:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});var a=s(2898);let r=(0,a.Z)("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},6637:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});var a=s(2898);let r=(0,a.Z)("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]])},8956:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});var a=s(2898);let r=(0,a.Z)("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]])},1295:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});var a=s(2898);let r=(0,a.Z)("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]])},6142:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});var a=s(2898);let r=(0,a.Z)("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]])},290:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});var a=s(2898);let r=(0,a.Z)("MoreVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]])},2741:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});var a=s(2898);let r=(0,a.Z)("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]])},1827:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});var a=s(2898);let r=(0,a.Z)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]])},9036:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});var a=s(2898);let r=(0,a.Z)("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]])},5340:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});var a=s(2898);let r=(0,a.Z)("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]])},268:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});var a=s(2898);let r=(0,a.Z)("Store",[["path",{d:"m2 7 4.41-4.41A2 2 0 0 1 7.83 2h8.34a2 2 0 0 1 1.42.59L22 7",key:"ztvudi"}],["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["path",{d:"M15 22v-4a2 2 0 0 0-2-2h-2a2 2 0 0 0-2 2v4",key:"2ebpfo"}],["path",{d:"M2 7h20",key:"1fcdvo"}],["path",{d:"M22 7v3a2 2 0 0 1-2 2v0a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 16 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 12 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 8 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 4 12v0a2 2 0 0 1-2-2V7",key:"jon5kx"}]])},4522:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});var a=s(2898);let r=(0,a.Z)("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]])},5790:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});var a=s(2898);let r=(0,a.Z)("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]])},2104:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});var a=s(2898);let r=(0,a.Z)("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]])},2549:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});var a=s(2898);let r=(0,a.Z)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},4919:function(e,t,s){Promise.resolve().then(s.bind(s,8982))},8982:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return F}});var a=s(7437),r=s(2265),n=s(268),i=s(3008),l=s(6141),c=s(1195),o=s(2505),d=s(1298),u=s(8203),x=s(5817),m=s(1827),p=s(6142),h=s(5340),g=s(5790),y=s(4522),f=s(1291),v=s(7158),b=s(9224),j=s(3523),N=s(2104),w=s(9036),k=s(2894),C=s(1981),S=s(290),Z=s(9670),R=s(2898);let A=(0,R.Z)("ClipboardCheck",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"m9 14 2 2 4-4",key:"df797q"}]]);var I=s(998),T=s(6637),D=s(2549),E=s(2741),L=s(1295),O=s(8956),B=s(798);class M{getData(){let e=localStorage.getItem(this.storageKey);if(!e){let e={restaurants:this.getInitialRestaurants(),activities:this.getInitialActivities(),lastSync:new Date().toISOString()};return this.saveData(e),e}return JSON.parse(e)}saveData(e){localStorage.setItem(this.storageKey,JSON.stringify(e))}getInitialRestaurants(){return[{id:"r1",name:"The Golden Spoon",ownerId:"u3",ownerName:"Michael Chen",ownerEmail:"michael.chen@goldspoon.com",cuisine:["Fine Dining","French","Modern European"],description:"Elegant fine dining restaurant offering exquisite French cuisine with modern interpretations",address:"123 Fifth Avenue",city:"New York",state:"NY",zipCode:"10001",phone:"+1-212-555-0100",email:"contact@goldspoon.com",website:"www.thegoldenspoon.com",capacity:80,priceRange:"$$$",status:"active",verificationStatus:"verified",rating:4.8,reviewCount:567,totalBookings:1234,monthlyRevenue:45670,submittedAt:"2024-01-10T10:00:00Z",approvedAt:"2024-01-15T14:30:00Z",lastVerifiedAt:"2024-09-15T10:00:00Z",features:["Private Dining","Wine Cellar","Chef Table","Valet Parking"],operatingHours:{monday:{open:"17:00",close:"22:00"},tuesday:{open:"17:00",close:"22:00"},wednesday:{open:"17:00",close:"22:00"},thursday:{open:"17:00",close:"22:00"},friday:{open:"17:00",close:"23:00"},saturday:{open:"17:00",close:"23:00"},sunday:{open:"17:00",close:"21:00"}},photos:["golden-spoon-1.jpg","golden-spoon-2.jpg"],documents:{businessLicense:{uploaded:!0,verified:!0,expiryDate:"2025-12-31"},healthCertificate:{uploaded:!0,verified:!0,expiryDate:"2025-06-30"},taxId:{uploaded:!0,verified:!0},insuranceCertificate:{uploaded:!0,verified:!0,expiryDate:"2025-08-15"},foodHandlerCertificate:{uploaded:!0,verified:!0,expiryDate:"2025-03-20"}},performance:{bookingTrend:12.5,revenueGrowth:15.3,averageRating:4.8,cancellationRate:3.2,responseTime:8,customerRetention:78.5},compliance:{healthInspectionScore:95,lastInspectionDate:"2024-09-01",violations:[],warnings:0,suspensions:0}},{id:"r2",name:"Bella Italia Trattoria",ownerId:"u6",ownerName:"Giuseppe Rossi",ownerEmail:"giuseppe@bellaitalia.com",cuisine:["Italian","Mediterranean"],description:"Authentic Italian trattoria serving traditional recipes from the Tuscany region",address:"456 Michigan Avenue",city:"Chicago",state:"IL",zipCode:"60611",phone:"+1-312-555-0200",email:"info@bellaitalia.com",capacity:60,priceRange:"$$",status:"pending",verificationStatus:"pending",rating:0,reviewCount:0,totalBookings:0,monthlyRevenue:0,submittedAt:"2024-10-25T15:30:00Z",features:["Outdoor Seating","Family Friendly","Wine List"],operatingHours:{monday:{open:"11:30",close:"22:00"},tuesday:{open:"11:30",close:"22:00"},wednesday:{open:"11:30",close:"22:00"},thursday:{open:"11:30",close:"22:00"},friday:{open:"11:30",close:"23:00"},saturday:{open:"11:30",close:"23:00"},sunday:{open:"12:00",close:"21:00"}},photos:[],documents:{businessLicense:{uploaded:!0,verified:!1},healthCertificate:{uploaded:!0,verified:!1},taxId:{uploaded:!1,verified:!1},insuranceCertificate:{uploaded:!0,verified:!1},foodHandlerCertificate:{uploaded:!1,verified:!1}},performance:{bookingTrend:0,revenueGrowth:0,averageRating:0,cancellationRate:0,responseTime:0,customerRetention:0},compliance:{healthInspectionScore:0,lastInspectionDate:"",violations:[],warnings:0,suspensions:0}},{id:"r3",name:"Sakura Sushi House",ownerId:"u7",ownerName:"Yuki Tanaka",ownerEmail:"yuki@sakurasushi.com",cuisine:["Japanese","Sushi","Asian"],description:"Contemporary Japanese restaurant specializing in premium sushi and sashimi",address:"789 Sunset Boulevard",city:"Los Angeles",state:"CA",zipCode:"90028",phone:"+1-323-555-0300",email:"reservations@sakurasushi.com",website:"www.sakurasushi.com",capacity:50,priceRange:"$$$",status:"active",verificationStatus:"verified",rating:4.9,reviewCount:423,totalBookings:987,monthlyRevenue:38900,submittedAt:"2024-02-15T09:00:00Z",approvedAt:"2024-02-20T11:00:00Z",lastVerifiedAt:"2024-08-20T10:00:00Z",features:["Omakase Bar","Sake Selection","Takeout","Delivery"],operatingHours:{monday:{open:"closed",close:"closed"},tuesday:{open:"12:00",close:"22:00"},wednesday:{open:"12:00",close:"22:00"},thursday:{open:"12:00",close:"22:00"},friday:{open:"12:00",close:"23:00"},saturday:{open:"12:00",close:"23:00"},sunday:{open:"12:00",close:"21:00"}},photos:["sakura-1.jpg","sakura-2.jpg","sakura-3.jpg"],documents:{businessLicense:{uploaded:!0,verified:!0,expiryDate:"2025-11-30"},healthCertificate:{uploaded:!0,verified:!0,expiryDate:"2025-05-15"},taxId:{uploaded:!0,verified:!0},insuranceCertificate:{uploaded:!0,verified:!0,expiryDate:"2025-07-01"},foodHandlerCertificate:{uploaded:!0,verified:!0,expiryDate:"2025-04-10"}},performance:{bookingTrend:8.7,revenueGrowth:11.2,averageRating:4.9,cancellationRate:2.1,responseTime:5,customerRetention:82.3},compliance:{healthInspectionScore:98,lastInspectionDate:"2024-08-15",violations:[],warnings:0,suspensions:0}},{id:"r4",name:"Spice Route Indian Kitchen",ownerId:"u8",ownerName:"Raj Patel",ownerEmail:"raj@spiceroute.com",cuisine:["Indian","Asian"],description:"Authentic Indian cuisine with flavors from across the subcontinent",address:"234 Market Street",city:"San Francisco",state:"CA",zipCode:"94102",phone:"+1-415-555-0400",email:"contact@spiceroute.com",capacity:70,priceRange:"$$",status:"suspended",verificationStatus:"verified",rating:4.6,reviewCount:312,totalBookings:456,monthlyRevenue:15600,submittedAt:"2024-03-20T14:00:00Z",approvedAt:"2024-03-25T10:00:00Z",lastVerifiedAt:"2024-07-10T10:00:00Z",features:["Vegetarian Options","Lunch Buffet","Catering"],operatingHours:{monday:{open:"11:30",close:"22:00"},tuesday:{open:"11:30",close:"22:00"},wednesday:{open:"11:30",close:"22:00"},thursday:{open:"11:30",close:"22:00"},friday:{open:"11:30",close:"23:00"},saturday:{open:"11:30",close:"23:00"},sunday:{open:"12:00",close:"22:00"}},photos:["spice-route-1.jpg"],documents:{businessLicense:{uploaded:!0,verified:!0,expiryDate:"2025-10-15"},healthCertificate:{uploaded:!0,verified:!0,expiryDate:"2024-12-31",notes:"Expiring soon"},taxId:{uploaded:!0,verified:!0},insuranceCertificate:{uploaded:!0,verified:!0,expiryDate:"2025-06-20"},foodHandlerCertificate:{uploaded:!0,verified:!0,expiryDate:"2025-02-15"}},performance:{bookingTrend:-5.3,revenueGrowth:-8.2,averageRating:4.6,cancellationRate:8.5,responseTime:25,customerRetention:62.1},compliance:{healthInspectionScore:82,lastInspectionDate:"2024-09-20",violations:[{id:"v1",type:"Health & Safety",description:"Temperature control issues in food storage",severity:"major",date:"2024-09-20",resolved:!1},{id:"v2",type:"Sanitation",description:"Improper cleaning procedures",severity:"minor",date:"2024-09-20",resolved:!1}],warnings:2,suspensions:1}},{id:"r5",name:"Le Petit Bistro",ownerId:"u9",ownerName:"Jean Dupont",ownerEmail:"jean@lepetitbistro.com",cuisine:["French","European"],description:"Cozy French bistro offering classic dishes in a charming atmosphere",address:"567 Ocean Drive",city:"Miami",state:"FL",zipCode:"33139",phone:"+1-305-555-0500",email:"info@lepetitbistro.com",capacity:45,priceRange:"$$",status:"pending",verificationStatus:"in-progress",rating:0,reviewCount:0,totalBookings:0,monthlyRevenue:0,submittedAt:"2024-10-26T11:00:00Z",features:["Patio Seating","Wine Bar","Brunch"],operatingHours:{monday:{open:"closed",close:"closed"},tuesday:{open:"11:00",close:"22:00"},wednesday:{open:"11:00",close:"22:00"},thursday:{open:"11:00",close:"22:00"},friday:{open:"11:00",close:"23:00"},saturday:{open:"10:00",close:"23:00"},sunday:{open:"10:00",close:"21:00"}},photos:["petit-bistro-1.jpg"],documents:{businessLicense:{uploaded:!0,verified:!0},healthCertificate:{uploaded:!0,verified:!0},taxId:{uploaded:!0,verified:!1},insuranceCertificate:{uploaded:!0,verified:!1},foodHandlerCertificate:{uploaded:!0,verified:!1}},performance:{bookingTrend:0,revenueGrowth:0,averageRating:0,cancellationRate:0,responseTime:0,customerRetention:0},compliance:{healthInspectionScore:0,lastInspectionDate:"",violations:[],warnings:0,suspensions:0}}]}getInitialActivities(){return{r1:[{id:"a1",restaurantId:"r1",type:"verification",description:"Annual verification completed successfully",timestamp:"2024-09-15T10:00:00Z",performedBy:"Admin User"}],r4:[{id:"a2",restaurantId:"r4",type:"admin_action",description:"Restaurant suspended due to health violations",timestamp:"2024-09-21T15:30:00Z",performedBy:"Admin User",metadata:{reason:"Health inspection failures",violations:["v1","v2"]}}]}}async getAllRestaurants(){let e=this.getData();return(null==e?void 0:e.restaurants)||[]}async getRestaurantById(e){let t=this.getData();return(null==t?void 0:t.restaurants.find(t=>t.id===e))||null}async updateRestaurant(e,t){let s=this.getData(),a=s.restaurants.findIndex(t=>t.id===e);if(-1===a)throw Error("Restaurant not found");return s.restaurants[a]={...s.restaurants[a],...t},this.saveData(s),await this.logActivity({restaurantId:e,type:"admin_action",description:"Restaurant updated: ".concat(Object.keys(t).join(", ")),timestamp:new Date().toISOString(),performedBy:"Admin",metadata:t}),s.restaurants[a]}async approveRestaurant(e){return this.updateRestaurant(e,{status:"active",approvedAt:new Date().toISOString()})}async rejectRestaurant(e,t){let s=await this.updateRestaurant(e,{status:"rejected"});return await this.logActivity({restaurantId:e,type:"admin_action",description:"Restaurant application rejected: ".concat(t),timestamp:new Date().toISOString(),performedBy:"Admin",metadata:{reason:t}}),s}async suspendRestaurant(e,t){let s=await this.updateRestaurant(e,{status:"suspended"});return await this.logActivity({restaurantId:e,type:"admin_action",description:"Restaurant suspended: ".concat(t),timestamp:new Date().toISOString(),performedBy:"Admin",metadata:{reason:t}}),s}async activateRestaurant(e){return this.updateRestaurant(e,{status:"active"})}async verifyRestaurant(e){return this.updateRestaurant(e,{verificationStatus:"verified",lastVerifiedAt:new Date().toISOString()})}async getRestaurantActivities(e){let t=this.getData();return(null==t?void 0:t.activities[e])||[]}async logActivity(e){let t=this.getData(),s={...e,id:"act_".concat(Date.now(),"_").concat(Math.random().toString(36).substr(2,9))};return t.activities[e.restaurantId]||(t.activities[e.restaurantId]=[]),t.activities[e.restaurantId].unshift(s),this.saveData(t),s}async getStatistics(){let e=await this.getAllRestaurants();return{total:e.length,approved:e.filter(e=>"approved"===e.status||"active"===e.status).length,pending:e.filter(e=>"pending"===e.status).length,suspended:e.filter(e=>"suspended"===e.status).length,inactive:e.filter(e=>"inactive"===e.status).length,rejected:e.filter(e=>"rejected"===e.status).length,verified:e.filter(e=>"verified"===e.verificationStatus).length,totalRevenue:e.reduce((e,t)=>e+t.monthlyRevenue,0),totalBookings:e.reduce((e,t)=>e+t.totalBookings,0)}}async exportRestaurants(){let e=await this.getAllRestaurants(),t=e.map(e=>'"'.concat(e.name,'","').concat(e.ownerName,'","').concat(e.city,'",').concat(e.status,",").concat(e.rating,",").concat(e.totalBookings,",$").concat(e.monthlyRevenue,",").concat(e.verificationStatus)).join("\n");return"Name,Owner,City,Status,Rating,Bookings,Revenue,Verification\n"+t}constructor(){this.storageKey="admin_restaurants_data"}}let _=new M;function F(){let{toast:e}=(0,B.pm)(),[t,s]=(0,r.useState)([]),[b,j]=(0,r.useState)(!0),[N,w]=(0,r.useState)(null),[k,C]=(0,r.useState)(""),[S,Z]=(0,r.useState)("all"),[R,A]=(0,r.useState)("all"),[I,T]=(0,r.useState)("submittedAt"),[D,E]=(0,r.useState)("desc"),[L,O]=(0,r.useState)(1),[M,F]=(0,r.useState)(new Set),[X,Q]=(0,r.useState)(null),[ee,et]=(0,r.useState)(null),[es,ea]=(0,r.useState)(null),[er,en]=(0,r.useState)(null),[ei,el]=(0,r.useState)(null),[ec,eo]=(0,r.useState)(null),[ed,eu]=(0,r.useState)(!1);(0,r.useEffect)(()=>{ex(),em()},[]);let ex=async()=>{try{j(!0);let e=await _.getAllRestaurants();s(e)}catch(t){console.error("Failed to load restaurants:",t),e({title:"Error",description:"Failed to load restaurants. Please refresh the page.",variant:"destructive"})}finally{j(!1)}},em=async()=>{try{let e=await _.getStatistics();w(e)}catch(e){console.error("Failed to load statistics:",e)}},ep=(0,r.useMemo)(()=>{let e=t.filter(e=>{let t=e.name.toLowerCase().includes(k.toLowerCase())||e.ownerName.toLowerCase().includes(k.toLowerCase())||e.city.toLowerCase().includes(k.toLowerCase())||e.cuisine.some(e=>e.toLowerCase().includes(k.toLowerCase())),s="all"===S||e.status===S,a="all"===R||e.verificationStatus===R;return t&&s&&a});return e.sort((e,t)=>{let s,a;switch(I){case"name":s=e.name,a=t.name;break;case"submittedAt":s=new Date(e.submittedAt).getTime(),a=new Date(t.submittedAt).getTime();break;case"rating":s=e.rating,a=t.rating;break;case"totalBookings":s=e.totalBookings,a=t.totalBookings;break;case"monthlyRevenue":s=e.monthlyRevenue,a=t.monthlyRevenue;break;default:return 0}return"asc"===D?s>a?1:-1:s<a?1:-1}),e},[t,k,S,R,I,D]),eh=Math.ceil(ep.length/10),eg=ep.slice((L-1)*10,10*L),ey=async t=>{try{await _.approveRestaurant(t),await ex(),await em(),e({title:"Restaurant Approved",description:"The restaurant has been approved and is now active."}),Q(null)}catch(t){e({title:"Error",description:"Failed to approve restaurant.",variant:"destructive"})}},ef=async(t,s)=>{try{await _.rejectRestaurant(t,s),await ex(),await em(),e({title:"Application Rejected",description:"The restaurant application has been rejected."}),Q(null)}catch(t){e({title:"Error",description:"Failed to reject application.",variant:"destructive"})}},ev=async(t,s)=>{try{await _.suspendRestaurant(t,s),await ex(),await em(),e({title:"Restaurant Suspended",description:"The restaurant has been suspended."})}catch(t){e({title:"Error",description:"Failed to suspend restaurant.",variant:"destructive"})}},eb=async t=>{try{await _.activateRestaurant(t),await ex(),await em(),e({title:"Restaurant Activated",description:"The restaurant has been activated."})}catch(t){e({title:"Error",description:"Failed to activate restaurant.",variant:"destructive"})}},ej=async t=>{try{await _.verifyRestaurant(t),await ex(),e({title:"Restaurant Verified",description:"The restaurant verification has been completed."}),et(null)}catch(t){e({title:"Error",description:"Failed to verify restaurant.",variant:"destructive"})}},eN=async()=>{try{let t=await _.exportRestaurants(),s=new Blob([t],{type:"text/csv"}),a=window.URL.createObjectURL(s),r=document.createElement("a");r.href=a,r.download="restaurants-export-".concat(new Date().toISOString().split("T")[0],".csv"),document.body.appendChild(r),r.click(),document.body.removeChild(r),window.URL.revokeObjectURL(a),e({title:"Export Successful",description:"Restaurant data has been exported to CSV."})}catch(t){e({title:"Error",description:"Failed to export restaurant data.",variant:"destructive"})}},ew=async()=>{try{for(let e of M)await _.suspendRestaurant(e,"Bulk suspension by admin");await ex(),await em(),F(new Set),eu(!1),e({title:"Bulk Suspension Complete",description:"".concat(M.size," restaurant(s) have been suspended.")})}catch(t){e({title:"Error",description:"Failed to perform bulk suspension.",variant:"destructive"})}},ek=e=>{I===e?E("asc"===D?"desc":"asc"):(T(e),E("desc"))},eC=e=>{let t=new Set(M);t.has(e)?t.delete(e):t.add(e),F(t)};return b?(0,a.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),(0,a.jsx)("p",{className:"mt-4 text-gray-600",children:"Loading restaurants..."})]})}):(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Restaurant Management"}),(0,a.jsx)("p",{className:"text-gray-600 mt-1",children:"Comprehensive restaurant lifecycle management and oversight"})]}),N&&(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[(0,a.jsx)(V,{title:"Total Restaurants",value:N.total,icon:(0,a.jsx)(n.Z,{className:"w-6 h-6"}),color:"blue"}),(0,a.jsx)(V,{title:"Active & Approved",value:N.approved,icon:(0,a.jsx)(i.Z,{className:"w-6 h-6"}),color:"green"}),(0,a.jsx)(V,{title:"Pending Review",value:N.pending,icon:(0,a.jsx)(l.Z,{className:"w-6 h-6"}),color:"yellow"}),(0,a.jsx)(V,{title:"Suspended",value:N.suspended,icon:(0,a.jsx)(c.Z,{className:"w-6 h-6"}),color:"red"})]}),N&&(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,a.jsx)("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Verified Restaurants"}),(0,a.jsx)("p",{className:"text-2xl font-bold text-gray-900 mt-1",children:N.verified})]}),(0,a.jsx)(o.Z,{className:"w-8 h-8 text-purple-600"})]})}),(0,a.jsx)("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Total Monthly Revenue"}),(0,a.jsxs)("p",{className:"text-2xl font-bold text-gray-900 mt-1",children:["$",N.totalRevenue.toLocaleString()]})]}),(0,a.jsx)(d.Z,{className:"w-8 h-8 text-green-600"})]})}),(0,a.jsx)("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Total Bookings"}),(0,a.jsx)("p",{className:"text-2xl font-bold text-gray-900 mt-1",children:N.totalBookings.toLocaleString()})]}),(0,a.jsx)(u.Z,{className:"w-8 h-8 text-blue-600"})]})})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between bg-white rounded-lg border border-gray-200 p-4",children:[(0,a.jsx)("div",{className:"flex items-center space-x-4",children:M.size>0&&(0,a.jsxs)("button",{onClick:()=>eu(!0),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:["Bulk Actions (",M.size,")"]})}),(0,a.jsxs)("button",{onClick:eN,className:"flex items-center space-x-2 px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:[(0,a.jsx)(x.Z,{className:"w-4 h-4"}),(0,a.jsx)("span",{children:"Export CSV"})]})]}),(0,a.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,a.jsx)("div",{className:"md:col-span-2",children:(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(m.Z,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),(0,a.jsx)("input",{type:"text",placeholder:"Search by name, owner, city, or cuisine...",value:k,onChange:e=>C(e.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]})}),(0,a.jsx)("div",{children:(0,a.jsxs)("select",{value:S,onChange:e=>Z(e.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,a.jsx)("option",{value:"all",children:"All Status"}),(0,a.jsx)("option",{value:"pending",children:"Pending"}),(0,a.jsx)("option",{value:"active",children:"Active"}),(0,a.jsx)("option",{value:"inactive",children:"Inactive"}),(0,a.jsx)("option",{value:"suspended",children:"Suspended"}),(0,a.jsx)("option",{value:"rejected",children:"Rejected"})]})}),(0,a.jsx)("div",{children:(0,a.jsxs)("select",{value:R,onChange:e=>A(e.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,a.jsx)("option",{value:"all",children:"All Verification"}),(0,a.jsx)("option",{value:"verified",children:"Verified"}),(0,a.jsx)("option",{value:"in-progress",children:"In Progress"}),(0,a.jsx)("option",{value:"pending",children:"Pending"}),(0,a.jsx)("option",{value:"failed",children:"Failed"}),(0,a.jsx)("option",{value:"expired",children:"Expired"})]})})]}),ep.length>0&&(0,a.jsxs)("p",{className:"text-sm text-gray-600 mt-4",children:["Showing ",ep.length," restaurant(s)"]})]}),(0,a.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200 overflow-hidden",children:[(0,a.jsx)("div",{className:"overflow-x-auto",children:(0,a.jsxs)("table",{className:"w-full",children:[(0,a.jsx)("thead",{className:"bg-gray-50",children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{className:"px-6 py-3 text-left",children:(0,a.jsx)("input",{type:"checkbox",checked:M.size===eg.length&&eg.length>0,onChange:()=>{M.size===eg.length?F(new Set):F(new Set(eg.map(e=>e.id)))},className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"})}),(0,a.jsx)(z,{field:"name",label:"Restaurant",currentField:I,currentOrder:D,onSort:ek}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Owner"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Location"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),(0,a.jsx)(z,{field:"rating",label:"Performance",currentField:I,currentOrder:D,onSort:ek}),(0,a.jsx)(z,{field:"monthlyRevenue",label:"Revenue",currentField:I,currentOrder:D,onSort:ek}),(0,a.jsx)("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),(0,a.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:eg.map(e=>(0,a.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,a.jsx)("td",{className:"px-6 py-4",children:(0,a.jsx)("input",{type:"checkbox",checked:M.has(e.id),onChange:()=>eC(e.id),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"})}),(0,a.jsx)("td",{className:"px-6 py-4",children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"flex-shrink-0 h-10 w-10 bg-gradient-to-br from-blue-500 to-purple-600 rounded-lg flex items-center justify-center",children:(0,a.jsx)(n.Z,{className:"w-5 h-5 text-white"})}),(0,a.jsxs)("div",{className:"ml-4",children:[(0,a.jsx)("div",{className:"text-sm font-medium text-gray-900",children:e.name}),(0,a.jsx)("div",{className:"text-sm text-gray-500",children:e.cuisine.join(", ")})]})]})}),(0,a.jsxs)("td",{className:"px-6 py-4",children:[(0,a.jsx)("div",{className:"text-sm text-gray-900",children:e.ownerName}),(0,a.jsx)("div",{className:"text-sm text-gray-500",children:e.ownerEmail})]}),(0,a.jsxs)("td",{className:"px-6 py-4",children:[(0,a.jsxs)("div",{className:"flex items-center text-sm text-gray-900",children:[(0,a.jsx)(p.Z,{className:"w-4 h-4 mr-1 text-gray-400"}),e.city,", ",e.state]}),(0,a.jsxs)("div",{className:"text-sm text-gray-500",children:["Capacity: ",e.capacity]})]}),(0,a.jsx)("td",{className:"px-6 py-4",children:(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsx)(P,{status:e.status}),(0,a.jsx)(H,{status:e.verificationStatus})]})}),(0,a.jsx)("td",{className:"px-6 py-4",children:e.rating>0?(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex items-center text-sm text-gray-900",children:[(0,a.jsx)(h.Z,{className:"w-4 h-4 text-yellow-400 fill-current mr-1"}),e.rating.toFixed(1)," (",e.reviewCount,")"]}),(0,a.jsxs)("div",{className:"text-sm text-gray-500",children:[e.totalBookings," bookings"]}),0!==e.performance.bookingTrend&&(0,a.jsxs)("div",{className:"flex items-center text-sm ".concat(e.performance.bookingTrend>0?"text-green-600":"text-red-600"),children:[e.performance.bookingTrend>0?(0,a.jsx)(g.Z,{className:"w-3 h-3 mr-1"}):(0,a.jsx)(y.Z,{className:"w-3 h-3 mr-1"}),Math.abs(e.performance.bookingTrend).toFixed(1),"%"]})]}):(0,a.jsx)("span",{className:"text-sm text-gray-400",children:"No data"})}),(0,a.jsx)("td",{className:"px-6 py-4",children:e.monthlyRevenue>0?(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"text-sm font-medium text-gray-900",children:["$",e.monthlyRevenue.toLocaleString()]}),0!==e.performance.revenueGrowth&&(0,a.jsxs)("div",{className:"flex items-center text-sm ".concat(e.performance.revenueGrowth>0?"text-green-600":"text-red-600"),children:[e.performance.revenueGrowth>0?"+":"",e.performance.revenueGrowth.toFixed(1),"%"]})]}):(0,a.jsx)("span",{className:"text-sm text-gray-400",children:"$0"})}),(0,a.jsx)("td",{className:"px-6 py-4 text-right",children:(0,a.jsx)($,{restaurant:e,onViewApplication:()=>Q(e.id),onViewVerification:()=>et(e.id),onViewPerformance:()=>ea(e.id),onViewCompliance:()=>en(e.id),onViewProfile:()=>el(e.id),onViewActivity:()=>eo(e.id),onApprove:()=>ey(e.id),onSuspend:()=>ev(e.id,"Suspended by admin"),onActivate:()=>eb(e.id)})})]},e.id))})]})}),eh>1&&(0,a.jsxs)("div",{className:"flex items-center justify-between px-6 py-4 border-t border-gray-200",children:[(0,a.jsxs)("div",{className:"text-sm text-gray-600",children:["Page ",L," of ",eh]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)("button",{onClick:()=>O(Math.max(1,L-1)),disabled:1===L,className:"p-2 border border-gray-300 rounded-lg hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:(0,a.jsx)(f.Z,{className:"w-4 h-4"})}),(0,a.jsx)("button",{onClick:()=>O(Math.min(eh,L+1)),disabled:L===eh,className:"p-2 border border-gray-300 rounded-lg hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:(0,a.jsx)(v.Z,{className:"w-4 h-4"})})]})]})]}),X&&(0,a.jsx)(U,{restaurantId:X,onClose:()=>Q(null),onApprove:ey,onReject:ef}),ee&&(0,a.jsx)(G,{restaurantId:ee,onClose:()=>et(null),onVerify:ej}),es&&(0,a.jsx)(q,{restaurantId:es,onClose:()=>ea(null)}),er&&(0,a.jsx)(W,{restaurantId:er,onClose:()=>en(null)}),ei&&(0,a.jsx)(J,{restaurantId:ei,onClose:()=>el(null),onUpdate:ex}),ec&&(0,a.jsx)(K,{restaurantId:ec,onClose:()=>eo(null)}),ed&&(0,a.jsx)(Y,{selectedCount:M.size,onClose:()=>eu(!1),onSuspend:ew})]})}function V(e){let{title:t,value:s,icon:r,color:n}=e;return(0,a.jsx)("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-600",children:t}),(0,a.jsx)("p",{className:"text-2xl font-bold text-gray-900 mt-1",children:s})]}),(0,a.jsx)("div",{className:{blue:"text-blue-600",green:"text-green-600",yellow:"text-yellow-600",red:"text-red-600",purple:"text-purple-600"}[n],children:r})]})})}function z(e){let{field:t,label:s,currentField:r,currentOrder:n,onSort:i}=e;return(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100 transition-colors",onClick:()=>i(t),children:(0,a.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,a.jsx)("span",{children:s}),r===t&&("asc"===n?(0,a.jsx)(b.Z,{className:"w-4 h-4"}):(0,a.jsx)(j.Z,{className:"w-4 h-4"}))]})})}function P(e){let{status:t}=e,s={pending:{color:"bg-yellow-100 text-yellow-800",icon:l.Z,label:"Pending"},approved:{color:"bg-green-100 text-green-800",icon:i.Z,label:"Approved"},active:{color:"bg-green-100 text-green-800",icon:i.Z,label:"Active"},inactive:{color:"bg-gray-100 text-gray-800",icon:N.Z,label:"Inactive"},suspended:{color:"bg-red-100 text-red-800",icon:c.Z,label:"Suspended"},rejected:{color:"bg-red-100 text-red-800",icon:N.Z,label:"Rejected"}},r=s[t]||s.pending,n=r.icon;return(0,a.jsxs)("span",{className:"px-2 py-1 inline-flex items-center text-xs leading-5 font-semibold rounded-full ".concat(r.color),children:[(0,a.jsx)(n,{className:"w-3 h-3 mr-1"}),r.label]})}function H(e){let{status:t}=e,s={verified:{color:"bg-blue-100 text-blue-800",icon:w.Z,label:"Verified"},"in-progress":{color:"bg-yellow-100 text-yellow-800",icon:l.Z,label:"Verifying"},pending:{color:"bg-gray-100 text-gray-800",icon:l.Z,label:"Pending"},failed:{color:"bg-red-100 text-red-800",icon:k.Z,label:"Failed"},expired:{color:"bg-orange-100 text-orange-800",icon:C.Z,label:"Expired"}},r=s[t]||s.pending,n=r.icon;return(0,a.jsxs)("span",{className:"px-2 py-1 inline-flex items-center text-xs leading-5 font-semibold rounded-full ".concat(r.color),children:[(0,a.jsx)(n,{className:"w-3 h-3 mr-1"}),r.label]})}function $(e){let{restaurant:t,onViewApplication:s,onViewVerification:n,onViewPerformance:l,onViewCompliance:o,onViewProfile:d,onViewActivity:u,onApprove:x,onSuspend:m,onActivate:p}=e,[h,y]=(0,r.useState)(!1);return(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("button",{onClick:()=>y(!h),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:(0,a.jsx)(S.Z,{className:"w-5 h-5 text-gray-600"})}),h&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"fixed inset-0 z-10",onClick:()=>y(!1)}),(0,a.jsxs)("div",{className:"absolute right-0 mt-2 w-56 bg-white rounded-lg shadow-lg border border-gray-200 z-20",children:[(0,a.jsxs)("button",{onClick:()=>{d(),y(!1)},className:"w-full px-4 py-2 text-left text-sm text-gray-700 hover:bg-gray-50 flex items-center",children:[(0,a.jsx)(Z.Z,{className:"w-4 h-4 mr-2"}),"View Profile"]}),(0,a.jsxs)("button",{onClick:()=>{l(),y(!1)},className:"w-full px-4 py-2 text-left text-sm text-gray-700 hover:bg-gray-50 flex items-center",children:[(0,a.jsx)(g.Z,{className:"w-4 h-4 mr-2"}),"Performance Metrics"]}),(0,a.jsxs)("button",{onClick:()=>{o(),y(!1)},className:"w-full px-4 py-2 text-left text-sm text-gray-700 hover:bg-gray-50 flex items-center",children:[(0,a.jsx)(w.Z,{className:"w-4 h-4 mr-2"}),"Compliance & Quality"]}),(0,a.jsxs)("button",{onClick:()=>{n(),y(!1)},className:"w-full px-4 py-2 text-left text-sm text-gray-700 hover:bg-gray-50 flex items-center",children:[(0,a.jsx)(A,{className:"w-4 h-4 mr-2"}),"Verification Status"]}),(0,a.jsxs)("button",{onClick:()=>{u(),y(!1)},className:"w-full px-4 py-2 text-left text-sm text-gray-700 hover:bg-gray-50 flex items-center",children:[(0,a.jsx)(I.Z,{className:"w-4 h-4 mr-2"}),"Activity Log"]}),(0,a.jsx)("div",{className:"border-t border-gray-200 my-1"}),"pending"===t.status&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("button",{onClick:()=>{s(),y(!1)},className:"w-full px-4 py-2 text-left text-sm text-blue-600 hover:bg-blue-50 flex items-center",children:[(0,a.jsx)(T.Z,{className:"w-4 h-4 mr-2"}),"Review Application"]}),(0,a.jsxs)("button",{onClick:()=>{x(),y(!1)},className:"w-full px-4 py-2 text-left text-sm text-green-600 hover:bg-green-50 flex items-center",children:[(0,a.jsx)(i.Z,{className:"w-4 h-4 mr-2"}),"Approve"]})]}),("active"===t.status||"approved"===t.status)&&(0,a.jsxs)("button",{onClick:()=>{m(),y(!1)},className:"w-full px-4 py-2 text-left text-sm text-red-600 hover:bg-red-50 flex items-center",children:[(0,a.jsx)(c.Z,{className:"w-4 h-4 mr-2"}),"Suspend"]}),("suspended"===t.status||"inactive"===t.status)&&(0,a.jsxs)("button",{onClick:()=>{p(),y(!1)},className:"w-full px-4 py-2 text-left text-sm text-green-600 hover:bg-green-50 flex items-center",children:[(0,a.jsx)(i.Z,{className:"w-4 h-4 mr-2"}),"Activate"]})]})]})]})}function U(e){let{restaurantId:t,onClose:s,onApprove:n,onReject:i}=e,[l,c]=(0,r.useState)(null),[o,d]=(0,r.useState)(""),[u,x]=(0,r.useState)(!1);(0,r.useEffect)(()=>{m()},[t]);let m=async()=>{let e=await _.getRestaurantById(t);c(e)};return l?(0,a.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,a.jsxs)("div",{className:"bg-white rounded-lg max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[(0,a.jsxs)("div",{className:"sticky top-0 bg-white border-b border-gray-200 px-6 py-4 flex items-center justify-between",children:[(0,a.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:"Application Review"}),(0,a.jsx)("button",{onClick:s,className:"p-2 hover:bg-gray-100 rounded-lg",children:(0,a.jsx)(D.Z,{className:"w-5 h-5"})})]}),(0,a.jsxs)("div",{className:"p-6 space-y-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Restaurant Information"}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsx)(X,{label:"Name",value:l.name}),(0,a.jsx)(X,{label:"Cuisine",value:l.cuisine.join(", ")}),(0,a.jsx)(X,{label:"Address",value:"".concat(l.address,", ").concat(l.city,", ").concat(l.state," ").concat(l.zipCode)}),(0,a.jsx)(X,{label:"Phone",value:l.phone}),(0,a.jsx)(X,{label:"Email",value:l.email}),(0,a.jsx)(X,{label:"Website",value:l.website||"N/A"}),(0,a.jsx)(X,{label:"Capacity",value:"".concat(l.capacity," seats")}),(0,a.jsx)(X,{label:"Price Range",value:l.priceRange})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Owner Information"}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsx)(X,{label:"Owner Name",value:l.ownerName}),(0,a.jsx)(X,{label:"Owner Email",value:l.ownerEmail})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Documents"}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(Q,{label:"Business License",doc:l.documents.businessLicense}),(0,a.jsx)(Q,{label:"Health Certificate",doc:l.documents.healthCertificate}),(0,a.jsx)(Q,{label:"Tax ID",doc:l.documents.taxId}),(0,a.jsx)(Q,{label:"Insurance Certificate",doc:l.documents.insuranceCertificate}),(0,a.jsx)(Q,{label:"Food Handler Certificate",doc:l.documents.foodHandlerCertificate})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Features"}),(0,a.jsx)("div",{className:"flex flex-wrap gap-2",children:l.features.map((e,t)=>(0,a.jsx)("span",{className:"px-3 py-1 bg-blue-100 text-blue-800 rounded-full text-sm",children:e},t))})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Operating Hours"}),(0,a.jsx)("div",{className:"grid grid-cols-2 gap-2",children:Object.entries(l.operatingHours).map(e=>{let[t,s]=e;return(0,a.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,a.jsxs)("span",{className:"font-medium text-gray-700 capitalize",children:[t,":"]}),(0,a.jsx)("span",{className:"text-gray-600",children:"closed"===s.open?"Closed":"".concat(s.open," - ").concat(s.close)})]},t)})})]}),u?(0,a.jsxs)("div",{className:"pt-4 border-t border-gray-200",children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Rejection Reason"}),(0,a.jsx)("textarea",{value:o,onChange:e=>d(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500",rows:3,placeholder:"Please provide a reason for rejection..."}),(0,a.jsxs)("div",{className:"flex items-center justify-end space-x-4 mt-4",children:[(0,a.jsx)("button",{onClick:()=>x(!1),className:"px-6 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancel"}),(0,a.jsx)("button",{onClick:()=>i(t,o),disabled:!o.trim(),className:"px-6 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"Confirm Rejection"})]})]}):(0,a.jsxs)("div",{className:"flex items-center justify-end space-x-4 pt-4 border-t border-gray-200",children:[(0,a.jsx)("button",{onClick:()=>x(!0),className:"px-6 py-2 border border-red-600 text-red-600 rounded-lg hover:bg-red-50 transition-colors",children:"Reject"}),(0,a.jsx)("button",{onClick:()=>n(t),className:"px-6 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:"Approve & Activate"})]})]})]})}):null}function G(e){let{restaurantId:t,onClose:s,onVerify:n}=e,[i,l]=(0,r.useState)(null);(0,r.useEffect)(()=>{c()},[t]);let c=async()=>{let e=await _.getRestaurantById(t);l(e)};if(!i)return null;let o=Object.values(i.documents).every(e=>e.verified),d=o&&"verified"!==i.verificationStatus;return(0,a.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,a.jsxs)("div",{className:"bg-white rounded-lg max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[(0,a.jsxs)("div",{className:"sticky top-0 bg-white border-b border-gray-200 px-6 py-4 flex items-center justify-between",children:[(0,a.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:"Verification Status"}),(0,a.jsx)("button",{onClick:s,className:"p-2 hover:bg-gray-100 rounded-lg",children:(0,a.jsx)(D.Z,{className:"w-5 h-5"})})]}),(0,a.jsxs)("div",{className:"p-6 space-y-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:i.name}),(0,a.jsx)(H,{status:i.verificationStatus}),i.lastVerifiedAt&&(0,a.jsxs)("p",{className:"text-sm text-gray-600 mt-2",children:["Last verified: ",new Date(i.lastVerifiedAt).toLocaleDateString()]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Document Verification Checklist"}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsx)(ee,{label:"Business License",doc:i.documents.businessLicense}),(0,a.jsx)(ee,{label:"Health Certificate",doc:i.documents.healthCertificate}),(0,a.jsx)(ee,{label:"Tax ID",doc:i.documents.taxId}),(0,a.jsx)(ee,{label:"Insurance Certificate",doc:i.documents.insuranceCertificate}),(0,a.jsx)(ee,{label:"Food Handler Certificate",doc:i.documents.foodHandlerCertificate})]})]}),!o&&(0,a.jsx)("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:(0,a.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,a.jsx)(k.Z,{className:"w-5 h-5 text-yellow-600 flex-shrink-0 mt-0.5"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium text-yellow-800",children:"Incomplete Verification"}),(0,a.jsx)("p",{className:"text-sm text-yellow-700 mt-1",children:"Some documents are not yet verified. All documents must be verified before completing restaurant verification."})]})]})}),(0,a.jsxs)("div",{className:"flex items-center justify-end space-x-4 pt-4 border-t border-gray-200",children:[(0,a.jsx)("button",{onClick:s,className:"px-6 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Close"}),d&&(0,a.jsx)("button",{onClick:()=>n(t),className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Complete Verification"})]})]})]})})}function q(e){let{restaurantId:t,onClose:s}=e,[n,i]=(0,r.useState)(null);(0,r.useEffect)(()=>{l()},[t]);let l=async()=>{let e=await _.getRestaurantById(t);i(e)};return n?(0,a.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,a.jsxs)("div",{className:"bg-white rounded-lg max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[(0,a.jsxs)("div",{className:"sticky top-0 bg-white border-b border-gray-200 px-6 py-4 flex items-center justify-between",children:[(0,a.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:"Performance Metrics"}),(0,a.jsx)("button",{onClick:s,className:"p-2 hover:bg-gray-100 rounded-lg",children:(0,a.jsx)(D.Z,{className:"w-5 h-5"})})]}),(0,a.jsxs)("div",{className:"p-6 space-y-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:n.name}),(0,a.jsxs)("p",{className:"text-gray-600",children:[n.city,", ",n.state]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[(0,a.jsx)(et,{label:"Overall Rating",value:n.rating>0?n.rating.toFixed(1):"N/A",icon:(0,a.jsx)(h.Z,{className:"w-5 h-5 text-yellow-500"})}),(0,a.jsx)(et,{label:"Total Reviews",value:n.reviewCount,icon:(0,a.jsx)(T.Z,{className:"w-5 h-5 text-blue-500"})}),(0,a.jsx)(et,{label:"Total Bookings",value:n.totalBookings,icon:(0,a.jsx)(u.Z,{className:"w-5 h-5 text-green-500"})}),(0,a.jsx)(et,{label:"Monthly Revenue",value:"$".concat(n.monthlyRevenue.toLocaleString()),icon:(0,a.jsx)(d.Z,{className:"w-5 h-5 text-purple-500"})})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Performance Indicators"}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsx)(es,{label:"Booking Trend",value:n.performance.bookingTrend,suffix:"%"}),(0,a.jsx)(es,{label:"Revenue Growth",value:n.performance.revenueGrowth,suffix:"%"}),(0,a.jsx)(es,{label:"Cancellation Rate",value:n.performance.cancellationRate,suffix:"%",inverse:!0}),(0,a.jsx)(es,{label:"Customer Retention",value:n.performance.customerRetention,suffix:"%"}),(0,a.jsxs)("div",{className:"flex items-center justify-between py-2 border-b border-gray-200",children:[(0,a.jsx)("span",{className:"text-sm font-medium text-gray-700",children:"Response Time"}),(0,a.jsxs)("span",{className:"text-sm text-gray-900",children:[n.performance.responseTime," min"]})]})]})]}),(0,a.jsxs)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[(0,a.jsx)("h4",{className:"font-semibold text-blue-900 mb-2",children:"Performance Summary"}),(0,a.jsxs)("p",{className:"text-sm text-blue-800",children:[n.performance.bookingTrend>0?"This restaurant is experiencing positive growth with a ".concat(n.performance.bookingTrend.toFixed(1),"% increase in bookings."):n.performance.bookingTrend<0?"This restaurant is experiencing a decline with a ".concat(Math.abs(n.performance.bookingTrend).toFixed(1),"% decrease in bookings."):"This restaurant has stable booking performance."," ","Customer retention is at ",n.performance.customerRetention.toFixed(1),"%."]})]}),(0,a.jsx)("div",{className:"flex items-center justify-end pt-4 border-t border-gray-200",children:(0,a.jsx)("button",{onClick:s,className:"px-6 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors",children:"Close"})})]})]})}):null}function W(e){let{restaurantId:t,onClose:s}=e,[n,l]=(0,r.useState)(null);(0,r.useEffect)(()=>{c()},[t]);let c=async()=>{let e=await _.getRestaurantById(t);l(e)};if(!n)return null;let o=n.compliance.violations.length>0,d=n.compliance.healthInspectionScore;return(0,a.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,a.jsxs)("div",{className:"bg-white rounded-lg max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[(0,a.jsxs)("div",{className:"sticky top-0 bg-white border-b border-gray-200 px-6 py-4 flex items-center justify-between",children:[(0,a.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:"Compliance & Quality Assurance"}),(0,a.jsx)("button",{onClick:s,className:"p-2 hover:bg-gray-100 rounded-lg",children:(0,a.jsx)(D.Z,{className:"w-5 h-5"})})]}),(0,a.jsxs)("div",{className:"p-6 space-y-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:n.name}),(0,a.jsx)(P,{status:n.status})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Health Inspection"}),(0,a.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,a.jsx)("span",{className:"text-sm font-medium text-gray-700",children:"Inspection Score"}),(0,a.jsx)("span",{className:"text-2xl font-bold ".concat(d>=90?"text-green-600":d>=80?"text-yellow-600":d>0?"text-red-600":"text-gray-400"),children:d>0?d:"N/A"})]}),n.compliance.lastInspectionDate&&(0,a.jsxs)("p",{className:"text-sm text-gray-600",children:["Last inspection: ",new Date(n.compliance.lastInspectionDate).toLocaleDateString()]})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-3 gap-4",children:[(0,a.jsxs)("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4 text-center",children:[(0,a.jsx)("p",{className:"text-2xl font-bold text-yellow-700",children:n.compliance.warnings}),(0,a.jsx)("p",{className:"text-sm text-yellow-600 mt-1",children:"Warnings"})]}),(0,a.jsxs)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 text-center",children:[(0,a.jsx)("p",{className:"text-2xl font-bold text-red-700",children:n.compliance.violations.length}),(0,a.jsx)("p",{className:"text-sm text-red-600 mt-1",children:"Violations"})]}),(0,a.jsxs)("div",{className:"bg-orange-50 border border-orange-200 rounded-lg p-4 text-center",children:[(0,a.jsx)("p",{className:"text-2xl font-bold text-orange-700",children:n.compliance.suspensions}),(0,a.jsx)("p",{className:"text-sm text-orange-600 mt-1",children:"Suspensions"})]})]}),o&&(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Violations"}),(0,a.jsx)("div",{className:"space-y-3",children:n.compliance.violations.map(e=>(0,a.jsx)("div",{className:"border rounded-lg p-4 ".concat("critical"===e.severity?"border-red-300 bg-red-50":"major"===e.severity?"border-orange-300 bg-orange-50":"border-yellow-300 bg-yellow-50"),children:(0,a.jsxs)("div",{className:"flex items-start justify-between",children:[(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2 mb-2",children:[(0,a.jsx)("span",{className:"px-2 py-1 text-xs font-semibold rounded-full ".concat("critical"===e.severity?"bg-red-600 text-white":"major"===e.severity?"bg-orange-600 text-white":"bg-yellow-600 text-white"),children:e.severity.toUpperCase()}),(0,a.jsx)("span",{className:"text-sm font-medium text-gray-900",children:e.type})]}),(0,a.jsx)("p",{className:"text-sm text-gray-700",children:e.description}),(0,a.jsxs)("p",{className:"text-xs text-gray-500 mt-2",children:["Reported: ",new Date(e.date).toLocaleDateString()]})]}),(0,a.jsx)("div",{className:"ml-4",children:e.resolved?(0,a.jsxs)("div",{className:"flex items-center text-green-600",children:[(0,a.jsx)(i.Z,{className:"w-5 h-5 mr-1"}),(0,a.jsx)("span",{className:"text-sm font-medium",children:"Resolved"})]}):(0,a.jsxs)("div",{className:"flex items-center text-red-600",children:[(0,a.jsx)(k.Z,{className:"w-5 h-5 mr-1"}),(0,a.jsx)("span",{className:"text-sm font-medium",children:"Pending"})]})})]})},e.id))})]}),!o&&(0,a.jsx)("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)(i.Z,{className:"w-5 h-5 text-green-600"}),(0,a.jsx)("p",{className:"text-sm font-medium text-green-800",children:"No violations on record. This restaurant maintains good compliance standards."})]})}),(0,a.jsx)("div",{className:"flex items-center justify-end pt-4 border-t border-gray-200",children:(0,a.jsx)("button",{onClick:s,className:"px-6 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors",children:"Close"})})]})]})})}function J(e){let{restaurantId:t,onClose:s,onUpdate:n}=e,[i,l]=(0,r.useState)(null);(0,r.useEffect)(()=>{c()},[t]);let c=async()=>{let e=await _.getRestaurantById(t);l(e)};return i?(0,a.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,a.jsxs)("div",{className:"bg-white rounded-lg max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[(0,a.jsxs)("div",{className:"sticky top-0 bg-white border-b border-gray-200 px-6 py-4 flex items-center justify-between",children:[(0,a.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:"Restaurant Profile"}),(0,a.jsx)("button",{onClick:s,className:"p-2 hover:bg-gray-100 rounded-lg",children:(0,a.jsx)(D.Z,{className:"w-5 h-5"})})]}),(0,a.jsxs)("div",{className:"p-6 space-y-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Basic Information"}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsx)(X,{label:"Name",value:i.name}),(0,a.jsx)(X,{label:"Cuisine Types",value:i.cuisine.join(", ")}),(0,a.jsx)(X,{label:"Price Range",value:i.priceRange}),(0,a.jsx)(X,{label:"Capacity",value:"".concat(i.capacity," seats")}),(0,a.jsx)("div",{className:"col-span-2",children:(0,a.jsx)(X,{label:"Description",value:i.description})})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Contact Information"}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsx)(X,{label:"Phone",value:i.phone,icon:(0,a.jsx)(E.Z,{className:"w-4 h-4"})}),(0,a.jsx)(X,{label:"Email",value:i.email,icon:(0,a.jsx)(L.Z,{className:"w-4 h-4"})}),(0,a.jsx)(X,{label:"Website",value:i.website||"N/A",icon:(0,a.jsx)(O.Z,{className:"w-4 h-4"})}),(0,a.jsx)(X,{label:"Location",value:"".concat(i.city,", ").concat(i.state),icon:(0,a.jsx)(p.Z,{className:"w-4 h-4"})}),(0,a.jsx)("div",{className:"col-span-2",children:(0,a.jsx)(X,{label:"Address",value:"".concat(i.address,", ").concat(i.zipCode)})})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Owner Information"}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsx)(X,{label:"Owner Name",value:i.ownerName}),(0,a.jsx)(X,{label:"Owner Email",value:i.ownerEmail})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Features & Amenities"}),(0,a.jsx)("div",{className:"flex flex-wrap gap-2",children:i.features.map((e,t)=>(0,a.jsx)("span",{className:"px-3 py-1 bg-blue-100 text-blue-800 rounded-full text-sm",children:e},t))})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Operating Hours"}),(0,a.jsx)("div",{className:"grid grid-cols-2 gap-2",children:Object.entries(i.operatingHours).map(e=>{let[t,s]=e;return(0,a.jsxs)("div",{className:"flex justify-between text-sm py-1",children:[(0,a.jsxs)("span",{className:"font-medium text-gray-700 capitalize",children:[t,":"]}),(0,a.jsx)("span",{className:"text-gray-600",children:"closed"===s.open?"Closed":"".concat(s.open," - ").concat(s.close)})]},t)})})]}),(0,a.jsx)("div",{className:"flex items-center justify-end pt-4 border-t border-gray-200",children:(0,a.jsx)("button",{onClick:s,className:"px-6 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors",children:"Close"})})]})]})}):null}function K(e){let{restaurantId:t,onClose:s}=e,[n,i]=(0,r.useState)([]);(0,r.useEffect)(()=>{l()},[t]);let l=async()=>{let e=await _.getRestaurantActivities(t);i(e)};return(0,a.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,a.jsxs)("div",{className:"bg-white rounded-lg max-w-3xl w-full max-h-[90vh] overflow-y-auto",children:[(0,a.jsxs)("div",{className:"sticky top-0 bg-white border-b border-gray-200 px-6 py-4 flex items-center justify-between",children:[(0,a.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:"Activity Log"}),(0,a.jsx)("button",{onClick:s,className:"p-2 hover:bg-gray-100 rounded-lg",children:(0,a.jsx)(D.Z,{className:"w-5 h-5"})})]}),(0,a.jsxs)("div",{className:"p-6",children:[n.length>0?(0,a.jsx)("div",{className:"space-y-4",children:n.map(e=>(0,a.jsx)("div",{className:"border-l-4 border-blue-500 pl-4 py-2",children:(0,a.jsxs)("div",{className:"flex items-start justify-between",children:[(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-900",children:e.description}),(0,a.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:new Date(e.timestamp).toLocaleString()}),e.performedBy&&(0,a.jsxs)("p",{className:"text-xs text-gray-600 mt-1",children:["By: ",e.performedBy]})]}),(0,a.jsx)(ea,{type:e.type})]})},e.id))}):(0,a.jsxs)("div",{className:"text-center py-12",children:[(0,a.jsx)(I.Z,{className:"w-12 h-12 text-gray-400 mx-auto mb-3"}),(0,a.jsx)("p",{className:"text-gray-600",children:"No activity recorded yet"})]}),(0,a.jsx)("div",{className:"flex items-center justify-end pt-6 border-t border-gray-200 mt-6",children:(0,a.jsx)("button",{onClick:s,className:"px-6 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors",children:"Close"})})]})]})})}function Y(e){let{selectedCount:t,onClose:s,onSuspend:r}=e;return(0,a.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,a.jsxs)("div",{className:"bg-white rounded-lg max-w-md w-full",children:[(0,a.jsx)("div",{className:"border-b border-gray-200 px-6 py-4",children:(0,a.jsx)("h2",{className:"text-xl font-bold text-gray-900",children:"Bulk Actions"})}),(0,a.jsxs)("div",{className:"p-6",children:[(0,a.jsxs)("p",{className:"text-gray-600 mb-6",children:[t," restaurant(s) selected"]}),(0,a.jsx)("div",{className:"space-y-3",children:(0,a.jsxs)("button",{onClick:r,className:"w-full px-4 py-3 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors flex items-center justify-center",children:[(0,a.jsx)(c.Z,{className:"w-5 h-5 mr-2"}),"Suspend Selected Restaurants"]})})]}),(0,a.jsx)("div",{className:"border-t border-gray-200 px-6 py-4 flex items-center justify-end",children:(0,a.jsx)("button",{onClick:s,className:"px-6 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancel"})})]})})}function X(e){let{label:t,value:s,icon:r}=e;return(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"text-sm font-medium text-gray-600",children:t}),(0,a.jsxs)("div",{className:"flex items-center mt-1",children:[r&&(0,a.jsx)("span",{className:"text-gray-400 mr-2",children:r}),(0,a.jsx)("p",{className:"text-sm text-gray-900",children:s})]})]})}function Q(e){let{label:t,doc:s}=e;return(0,a.jsxs)("div",{className:"flex items-center justify-between py-2 border-b border-gray-200",children:[(0,a.jsx)("span",{className:"text-sm font-medium text-gray-700",children:t}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[s.uploaded?(0,a.jsxs)("span",{className:"text-xs text-green-600 flex items-center",children:[(0,a.jsx)(i.Z,{className:"w-3 h-3 mr-1"}),"Uploaded"]}):(0,a.jsxs)("span",{className:"text-xs text-gray-400 flex items-center",children:[(0,a.jsx)(N.Z,{className:"w-3 h-3 mr-1"}),"Not uploaded"]}),s.verified?(0,a.jsxs)("span",{className:"text-xs text-blue-600 flex items-center",children:[(0,a.jsx)(w.Z,{className:"w-3 h-3 mr-1"}),"Verified"]}):(0,a.jsx)("span",{className:"text-xs text-gray-400",children:"Unverified"})]})]})}function ee(e){let{label:t,doc:s}=e;return(0,a.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-900",children:t}),s.expiryDate&&(0,a.jsxs)("p",{className:"text-xs text-gray-500 mt-1",children:["Expires: ",new Date(s.expiryDate).toLocaleDateString()]}),s.notes&&(0,a.jsx)("p",{className:"text-xs text-orange-600 mt-1",children:s.notes})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[s.uploaded&&(0,a.jsx)(i.Z,{className:"w-5 h-5 text-green-600"}),s.verified&&(0,a.jsx)(w.Z,{className:"w-5 h-5 text-blue-600"}),!s.uploaded&&(0,a.jsx)(N.Z,{className:"w-5 h-5 text-gray-400"})]})]})}function et(e){let{label:t,value:s,icon:r}=e;return(0,a.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4 text-center",children:[(0,a.jsx)("div",{className:"flex items-center justify-center mb-2",children:r}),(0,a.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:s}),(0,a.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:t})]})}function es(e){let{label:t,value:s,suffix:r,inverse:n=!1}=e,i=n?s<0:s>0,l=n?s>0:s<0;return(0,a.jsxs)("div",{className:"flex items-center justify-between py-2 border-b border-gray-200",children:[(0,a.jsx)("span",{className:"text-sm font-medium text-gray-700",children:t}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsxs)("span",{className:"text-sm font-semibold ".concat(i?"text-green-600":l?"text-red-600":"text-gray-600"),children:[s>0&&!n&&"+",s.toFixed(1),r]}),i&&(0,a.jsx)(g.Z,{className:"w-4 h-4 text-green-600"}),l&&(0,a.jsx)(y.Z,{className:"w-4 h-4 text-red-600"})]})]})}function ea(e){let{type:t}=e,s={status_change:{color:"bg-blue-100 text-blue-800",label:"Status"},verification:{color:"bg-purple-100 text-purple-800",label:"Verification"},compliance:{color:"bg-red-100 text-red-800",label:"Compliance"},performance:{color:"bg-green-100 text-green-800",label:"Performance"},admin_action:{color:"bg-gray-100 text-gray-800",label:"Admin"}},r=s[t]||s.admin_action;return(0,a.jsx)("span",{className:"px-2 py-1 text-xs font-semibold rounded-full ".concat(r.color),children:r.label})}},798:function(e,t,s){"use strict";s.d(t,{pm:function(){return x}});var a=s(2265);let r=0,n=new Map,i=e=>{if(n.has(e))return;let t=setTimeout(()=>{n.delete(e),d({type:"REMOVE_TOAST",toastId:e})},1e6);n.set(e,t)},l=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===t.toast.id?{...e,...t.toast}:e)};case"DISMISS_TOAST":{let{toastId:s}=t;return s?i(s):e.toasts.forEach(e=>{i(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===s||void 0===s?{...e,open:!1}:e)}}case"REMOVE_TOAST":if(void 0===t.toastId)return{...e,toasts:[]};return{...e,toasts:e.toasts.filter(e=>e.id!==t.toastId)}}},c=[],o={toasts:[]};function d(e){o=l(o,e),c.forEach(e=>{e(o)})}function u(e){let{...t}=e,s=(r=(r+1)%Number.MAX_SAFE_INTEGER).toString(),a=()=>d({type:"DISMISS_TOAST",toastId:s});return d({type:"ADD_TOAST",toast:{...t,id:s,open:!0,onOpenChange:e=>{e||a()}}}),{id:s,dismiss:a,update:e=>d({type:"UPDATE_TOAST",toast:{...e,id:s}})}}function x(){let[e,t]=a.useState(o);return a.useEffect(()=>(c.push(t),()=>{let e=c.indexOf(t);e>-1&&c.splice(e,1)}),[e]),{...e,toast:u,dismiss:e=>d({type:"DISMISS_TOAST",toastId:e})}}},622:function(e,t,s){"use strict";var a=s(2265),r=Symbol.for("react.element"),n=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,l=a.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,c={key:!0,ref:!0,__self:!0,__source:!0};function o(e,t,s){var a,n={},o=null,d=null;for(a in void 0!==s&&(o=""+s),void 0!==t.key&&(o=""+t.key),void 0!==t.ref&&(d=t.ref),t)i.call(t,a)&&!c.hasOwnProperty(a)&&(n[a]=t[a]);if(e&&e.defaultProps)for(a in t=e.defaultProps)void 0===n[a]&&(n[a]=t[a]);return{$$typeof:r,type:e,key:o,ref:d,props:n,_owner:l.current}}t.Fragment=n,t.jsx=o,t.jsxs=o},7437:function(e,t,s){"use strict";e.exports=s(622)}},function(e){e.O(0,[2971,2472,1744],function(){return e(e.s=4919)}),_N_E=e.O()}]);