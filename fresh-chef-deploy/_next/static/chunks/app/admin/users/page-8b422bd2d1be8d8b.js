(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9674],{2898:function(e,t,s){"use strict";s.d(t,{Z:function(){return n}});var a=s(2265),i={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let r=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),n=(e,t)=>{let s=(0,a.forwardRef)(({color:s="currentColor",size:n=24,strokeWidth:l=2,absoluteStrokeWidth:c,children:o,...d},u)=>(0,a.createElement)("svg",{ref:u,...i,width:n,height:n,stroke:s,strokeWidth:c?24*Number(l)/Number(n):l,className:`lucide lucide-${r(e)}`,...d},[...t.map(([e,t])=>(0,a.createElement)(e,t)),...(Array.isArray(o)?o:[o])||[]]));return s.displayName=`${e}`,s}},2894:function(e,t,s){"use strict";s.d(t,{Z:function(){return i}});var a=s(2898);let i=(0,a.Z)("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]])},1195:function(e,t,s){"use strict";s.d(t,{Z:function(){return i}});var a=s(2898);let i=(0,a.Z)("Ban",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.9 4.9 14.2 14.2",key:"1m5liu"}]])},8203:function(e,t,s){"use strict";s.d(t,{Z:function(){return i}});var a=s(2898);let i=(0,a.Z)("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]])},3008:function(e,t,s){"use strict";s.d(t,{Z:function(){return i}});var a=s(2898);let i=(0,a.Z)("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},2442:function(e,t,s){"use strict";s.d(t,{Z:function(){return i}});var a=s(2898);let i=(0,a.Z)("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]])},1291:function(e,t,s){"use strict";s.d(t,{Z:function(){return i}});var a=s(2898);let i=(0,a.Z)("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]])},7158:function(e,t,s){"use strict";s.d(t,{Z:function(){return i}});var a=s(2898);let i=(0,a.Z)("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]])},6141:function(e,t,s){"use strict";s.d(t,{Z:function(){return i}});var a=s(2898);let i=(0,a.Z)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]])},1298:function(e,t,s){"use strict";s.d(t,{Z:function(){return i}});var a=s(2898);let i=(0,a.Z)("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]])},5817:function(e,t,s){"use strict";s.d(t,{Z:function(){return i}});var a=s(2898);let i=(0,a.Z)("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]])},9670:function(e,t,s){"use strict";s.d(t,{Z:function(){return i}});var a=s(2898);let i=(0,a.Z)("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},6637:function(e,t,s){"use strict";s.d(t,{Z:function(){return i}});var a=s(2898);let i=(0,a.Z)("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]])},1295:function(e,t,s){"use strict";s.d(t,{Z:function(){return i}});var a=s(2898);let i=(0,a.Z)("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]])},290:function(e,t,s){"use strict";s.d(t,{Z:function(){return i}});var a=s(2898);let i=(0,a.Z)("MoreVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]])},1827:function(e,t,s){"use strict";s.d(t,{Z:function(){return i}});var a=s(2898);let i=(0,a.Z)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]])},9036:function(e,t,s){"use strict";s.d(t,{Z:function(){return i}});var a=s(2898);let i=(0,a.Z)("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]])},5340:function(e,t,s){"use strict";s.d(t,{Z:function(){return i}});var a=s(2898);let i=(0,a.Z)("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]])},5790:function(e,t,s){"use strict";s.d(t,{Z:function(){return i}});var a=s(2898);let i=(0,a.Z)("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]])},2104:function(e,t,s){"use strict";s.d(t,{Z:function(){return i}});var a=s(2898);let i=(0,a.Z)("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]])},2549:function(e,t,s){"use strict";s.d(t,{Z:function(){return i}});var a=s(2898);let i=(0,a.Z)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},226:function(e,t,s){Promise.resolve().then(s.bind(s,410))},410:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return C}});var a=s(7437),i=s(2265),r=s(2894),n=s(5790),l=s(8203),c=s(6141),o=s(5340),d=s(1827),u=s(5817),x=s(290),m=s(9670),p=s(1195),h=s(3008),g=s(1291),y=s(7158),f=s(2549),v=s(9036),b=s(6637),j=s(1298),N=s(2442),w=s(2104),k=s(1295),S=s(798);class Z{getData(){let e=localStorage.getItem(this.storageKey);if(!e){let e={users:this.getInitialUsers(),activities:this.getInitialActivities(),applications:this.getInitialApplications(),lastSync:new Date().toISOString()};return this.saveData(e),e}return JSON.parse(e)}saveData(e){localStorage.setItem(this.storageKey,JSON.stringify(e))}getInitialUsers(){return[{id:"1",email:"john.smith@email.com",firstName:"John",lastName:"Smith",role:"user",status:"active",emailVerified:!0,createdAt:"2024-01-15T10:30:00Z",lastLogin:"2025-10-27T08:15:00Z",totalBookings:24,totalSpent:1240.5,reviewsCount:18},{id:"2",email:"sarah.johnson@email.com",firstName:"Sarah",lastName:"Johnson",role:"user",status:"active",emailVerified:!0,createdAt:"2024-02-20T14:45:00Z",lastLogin:"2025-10-26T19:30:00Z",totalBookings:45,totalSpent:2890.75,reviewsCount:32},{id:"3",email:"michael.brown@email.com",firstName:"Michael",lastName:"Brown",role:"restaurant_owner",status:"active",emailVerified:!0,createdAt:"2024-03-10T09:20:00Z",lastLogin:"2025-10-27T07:45:00Z",totalBookings:0,totalSpent:0,reviewsCount:0},{id:"4",email:"emily.davis@email.com",firstName:"Emily",lastName:"Davis",role:"user",status:"suspended",emailVerified:!0,createdAt:"2024-04-05T16:10:00Z",lastLogin:"2025-10-20T12:00:00Z",totalBookings:12,totalSpent:680.25,reviewsCount:8},{id:"5",email:"david.wilson@email.com",firstName:"David",lastName:"Wilson",role:"user",status:"active",emailVerified:!1,createdAt:"2025-10-25T11:00:00Z",lastLogin:"2025-10-27T09:00:00Z",totalBookings:2,totalSpent:95,reviewsCount:1},{id:"6",email:"lisa.anderson@email.com",firstName:"Lisa",lastName:"Anderson",role:"restaurant_owner",status:"pending",emailVerified:!1,createdAt:"2025-10-26T15:30:00Z",lastLogin:"2025-10-26T15:30:00Z",totalBookings:0,totalSpent:0,reviewsCount:0},{id:"7",email:"james.martin@email.com",firstName:"James",lastName:"Martin",role:"user",status:"active",emailVerified:!0,createdAt:"2024-05-12T13:25:00Z",lastLogin:"2025-10-27T10:20:00Z",totalBookings:67,totalSpent:4325.9,reviewsCount:45},{id:"8",email:"maria.garcia@email.com",firstName:"Maria",lastName:"Garcia",role:"user",status:"active",emailVerified:!0,createdAt:"2024-06-18T10:40:00Z",lastLogin:"2025-10-25T14:15:00Z",totalBookings:31,totalSpent:1890.4,reviewsCount:22}]}getInitialActivities(){return{1:[{id:"a1",userId:"1",type:"login",description:"Logged in from Chrome on Windows",timestamp:"2025-10-27T08:15:00Z"},{id:"a2",userId:"1",type:"booking",description:"Made reservation at The French Bistro for 4 people",timestamp:"2025-10-27T08:20:00Z",metadata:{restaurant:"The French Bistro",guests:4,date:"2025-10-30"}}],2:[{id:"b1",userId:"2",type:"login",description:"Logged in from Firefox on MacOS",timestamp:"2025-10-26T19:30:00Z"}]}}getInitialApplications(){return[{id:"app1",businessName:"The Golden Dragon",ownerName:"Lisa Anderson",ownerEmail:"lisa.anderson@email.com",phone:"+1 555-0123",address:"123 Main Street",city:"New York",cuisine:["Chinese","Asian Fusion"],capacity:80,submittedAt:"2025-10-26T15:30:00Z",status:"pending",documents:{businessLicense:!0,taxId:!0,healthCertificate:!1}},{id:"app2",businessName:"Mediterranean Breeze",ownerName:"Carlos Rodriguez",ownerEmail:"carlos.r@email.com",phone:"+1 555-0124",address:"456 Oak Avenue",city:"Los Angeles",cuisine:["Mediterranean","Greek"],capacity:60,submittedAt:"2025-10-25T10:15:00Z",status:"pending",documents:{businessLicense:!0,taxId:!0,healthCertificate:!0}},{id:"app3",businessName:"Craft Burger Co",ownerName:"Tom Wilson",ownerEmail:"tom.w@email.com",phone:"+1 555-0125",address:"789 Pine Road",city:"Chicago",cuisine:["American","Burgers"],capacity:45,submittedAt:"2025-10-24T14:20:00Z",status:"pending",documents:{businessLicense:!0,taxId:!1,healthCertificate:!0}}]}async getAllUsers(){let e=this.getData();return(null==e?void 0:e.users)||[]}async getUserById(e){let t=this.getData();return(null==t?void 0:t.users.find(t=>t.id===e))||null}async updateUser(e,t){let s=this.getData(),a=s.users.findIndex(t=>t.id===e);if(-1===a)throw Error("User not found");return s.users[a]={...s.users[a],...t},this.saveData(s),await this.logActivity({userId:e,type:"admin_action",description:"Admin updated user: ".concat(Object.keys(t).join(", ")),timestamp:new Date().toISOString(),metadata:t}),s.users[a]}async suspendUser(e){return this.updateUser(e,{status:"suspended"})}async activateUser(e){return this.updateUser(e,{status:"active"})}async bulkSuspendUsers(e){for(let t of e)await this.suspendUser(t)}async getUserActivities(e){let t=this.getData();return(null==t?void 0:t.activities[e])||[]}async logActivity(e){let t=this.getData(),s={...e,id:"act_".concat(Date.now(),"_").concat(Math.random().toString(36).substr(2,9))};return t.activities[e.userId]||(t.activities[e.userId]=[]),t.activities[e.userId].unshift(s),this.saveData(t),s}async getAllApplications(){let e=this.getData();return(null==e?void 0:e.applications)||[]}async approveApplication(e){let t=this.getData(),s=t.applications.findIndex(t=>t.id===e);if(-1===s)throw Error("Application not found");return t.applications[s].status="approved",this.saveData(t),t.applications[s]}async rejectApplication(e){let t=this.getData(),s=t.applications.findIndex(t=>t.id===e);if(-1===s)throw Error("Application not found");return t.applications[s].status="rejected",this.saveData(t),t.applications[s]}async exportUsers(){let e=await this.getAllUsers(),t=e.map(e=>'"'.concat(e.firstName," ").concat(e.lastName,'",').concat(e.email,",").concat(e.role,",").concat(e.status,",").concat(new Date(e.createdAt).toLocaleDateString(),",").concat(e.totalBookings,",$").concat(e.totalSpent.toFixed(2))).join("\n");return"Name,Email,Role,Status,Created,Bookings,Spent\n"+t}constructor(){this.storageKey="admin_users_data"}}let A=new Z;function C(){let{toast:e}=(0,S.pm)(),[t,s]=(0,i.useState)([]),[f,v]=(0,i.useState)(!0),[b,j]=(0,i.useState)(0),[N,w]=(0,i.useState)(""),[k,Z]=(0,i.useState)("all"),[C,_]=(0,i.useState)("createdAt"),[I,B]=(0,i.useState)("desc"),[F,R]=(0,i.useState)(1),[z,V]=(0,i.useState)(new Set),[P,$]=(0,i.useState)(null),[q,W]=(0,i.useState)(null),[H,J]=(0,i.useState)(!1),[G,K]=(0,i.useState)(!1);(0,i.useEffect)(()=>{X(),Y()},[]);let X=async()=>{try{v(!0);let e=await A.getAllUsers();s(e)}catch(t){console.error("Failed to load users:",t),e({title:"Error",description:"Failed to load users. Please refresh the page.",variant:"destructive"})}finally{v(!1)}},Y=async()=>{try{let e=await A.getAllApplications();j(e.filter(e=>"pending"===e.status).length)}catch(e){console.error("Failed to load pending count:",e)}},Q=(0,i.useMemo)(()=>{let e=t.filter(e=>{let t=e.firstName.toLowerCase().includes(N.toLowerCase())||e.lastName.toLowerCase().includes(N.toLowerCase())||e.email.toLowerCase().includes(N.toLowerCase()),s="all"===k||e.status===k;return t&&s});return e.sort((e,t)=>{let s,a;switch(C){case"name":s="".concat(e.firstName," ").concat(e.lastName),a="".concat(t.firstName," ").concat(t.lastName);break;case"email":default:s=e.email,a=t.email;break;case"createdAt":s=new Date(e.createdAt).getTime(),a=new Date(t.createdAt).getTime();break;case"lastLogin":s=new Date(e.lastLogin).getTime(),a=new Date(t.lastLogin).getTime();break;case"totalBookings":s=e.totalBookings,a=t.totalBookings;break;case"totalSpent":s=e.totalSpent,a=t.totalSpent}return"asc"===I?s>a?1:-1:s<a?1:-1}),e},[t,N,k,C,I]),ee=Math.ceil(Q.length/10),et=Q.slice((F-1)*10,10*F),es=e=>{C===e?B("asc"===I?"desc":"asc"):(_(e),B("desc"))},ea=async t=>{try{await A.suspendUser(t),await X(),e({title:"User suspended",description:"The user account has been suspended successfully."})}catch(t){e({title:"Error",description:"Failed to suspend user",variant:"destructive"})}},ei=async t=>{try{await A.activateUser(t),await X(),e({title:"User activated",description:"The user account has been activated successfully."})}catch(t){e({title:"Error",description:"Failed to activate user",variant:"destructive"})}},er=e=>{let t=new Set(z);t.has(e)?t.delete(e):t.add(e),V(t)},en=async()=>{try{let t=z.size,s=Array.from(z);await A.bulkSuspendUsers(s),await X(),V(new Set),K(!1),e({title:"Bulk action completed",description:"".concat(t," user(s) have been suspended.")})}catch(t){e({title:"Error",description:"Failed to suspend users",variant:"destructive"})}},el=async()=>{try{let t=await A.exportUsers(),s=new Blob([t],{type:"text/csv"}),a=window.URL.createObjectURL(s),i=document.createElement("a");i.href=a,i.download="users-export-".concat(new Date().toISOString().split("T")[0],".csv"),i.click(),window.URL.revokeObjectURL(a),e({title:"Export completed",description:"".concat(Q.length," user(s) exported to CSV.")})}catch(t){e({title:"Error",description:"Failed to export users",variant:"destructive"})}};return(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"User Management"}),(0,a.jsx)("p",{className:"text-gray-600 mt-1",children:"Manage users, approvals, and analytics"})]}),(0,a.jsxs)("button",{onClick:()=>J(!0),className:"flex items-center gap-2 px-4 py-2 bg-orange-600 text-white rounded-lg hover:bg-orange-700 transition-colors",children:[(0,a.jsx)(r.Z,{className:"w-5 h-5"}),"Pending Approvals (",b,")"]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 lg:grid-cols-6 gap-4",children:[(0,a.jsx)(T,{label:"Daily Active",value:2847..toLocaleString(),icon:(0,a.jsx)(n.Z,{className:"w-5 h-5"})}),(0,a.jsx)(T,{label:"Weekly Active",value:8954..toLocaleString(),icon:(0,a.jsx)(l.Z,{className:"w-5 h-5"})}),(0,a.jsx)(T,{label:"Monthly Active",value:12847..toLocaleString(),icon:(0,a.jsx)(c.Z,{className:"w-5 h-5"})}),(0,a.jsx)(T,{label:"Avg Session",value:"12m 34s",icon:(0,a.jsx)(c.Z,{className:"w-5 h-5"})}),(0,a.jsx)(T,{label:"Conversion",value:"24.5%",icon:(0,a.jsx)(n.Z,{className:"w-5 h-5"})}),(0,a.jsx)(T,{label:"Repeat Users",value:"68.3%",icon:(0,a.jsx)(o.Z,{className:"w-5 h-5"})})]}),(0,a.jsx)("div",{className:"bg-white rounded-lg shadow-sm p-4 space-y-4",children:(0,a.jsxs)("div",{className:"flex flex-col md:flex-row gap-4",children:[(0,a.jsxs)("div",{className:"flex-1 relative",children:[(0,a.jsx)(d.Z,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),(0,a.jsx)("input",{type:"text",placeholder:"Search users by name or email...",value:N,onChange:e=>{w(e.target.value),R(1)},className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsxs)("select",{value:k,onChange:e=>{Z(e.target.value),R(1)},className:"px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,a.jsx)("option",{value:"all",children:"All Status"}),(0,a.jsx)("option",{value:"active",children:"Active"}),(0,a.jsx)("option",{value:"suspended",children:"Suspended"}),(0,a.jsx)("option",{value:"pending",children:"Pending"})]}),(0,a.jsxs)("button",{onClick:el,className:"flex items-center gap-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:[(0,a.jsx)(u.Z,{className:"w-5 h-5"}),"Export"]}),z.size>0&&(0,a.jsxs)("button",{onClick:()=>K(!0),className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[(0,a.jsx)(x.Z,{className:"w-5 h-5"}),"Bulk Actions (",z.size,")"]})]})]})}),(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow-sm overflow-hidden",children:[(0,a.jsx)("div",{className:"overflow-x-auto",children:(0,a.jsxs)("table",{className:"w-full",children:[(0,a.jsx)("thead",{className:"bg-gray-50 border-b border-gray-200",children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{className:"px-6 py-3 text-left",children:(0,a.jsx)("input",{type:"checkbox",checked:z.size===et.length&&et.length>0,onChange:()=>{z.size===et.length?V(new Set):V(new Set(et.map(e=>e.id)))},className:"w-4 h-4 text-blue-600 rounded"})}),(0,a.jsx)(L,{label:"Name",field:"name",currentField:C,order:I,onClick:es}),(0,a.jsx)(L,{label:"Email",field:"email",currentField:C,order:I,onClick:es}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-700 uppercase",children:"Role"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-700 uppercase",children:"Status"}),(0,a.jsx)(L,{label:"Bookings",field:"totalBookings",currentField:C,order:I,onClick:es}),(0,a.jsx)(L,{label:"Spent",field:"totalSpent",currentField:C,order:I,onClick:es}),(0,a.jsx)(L,{label:"Last Login",field:"lastLogin",currentField:C,order:I,onClick:es}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-700 uppercase",children:"Actions"})]})}),(0,a.jsx)("tbody",{className:"divide-y divide-gray-200",children:et.map(e=>(0,a.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,a.jsx)("td",{className:"px-6 py-4",children:(0,a.jsx)("input",{type:"checkbox",checked:z.has(e.id),onChange:()=>er(e.id),className:"w-4 h-4 text-blue-600 rounded"})}),(0,a.jsx)("td",{className:"px-6 py-4",children:(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsxs)("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-500 to-purple-600 rounded-full flex items-center justify-center text-white font-medium",children:[e.firstName[0],e.lastName[0]]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"font-medium text-gray-900",children:[e.firstName," ",e.lastName]}),(0,a.jsxs)("div",{className:"text-sm text-gray-500",children:["ID: ",e.id]})]})]})}),(0,a.jsx)("td",{className:"px-6 py-4 text-sm text-gray-900",children:e.email}),(0,a.jsx)("td",{className:"px-6 py-4",children:(0,a.jsx)("span",{className:"inline-flex px-2 py-1 text-xs font-medium rounded-full bg-purple-100 text-purple-700",children:e.role.replace("_"," ")})}),(0,a.jsx)("td",{className:"px-6 py-4",children:(0,a.jsx)(D,{status:e.status,verified:e.emailVerified})}),(0,a.jsx)("td",{className:"px-6 py-4 text-sm text-gray-900",children:e.totalBookings}),(0,a.jsxs)("td",{className:"px-6 py-4 text-sm text-gray-900",children:["$",e.totalSpent.toFixed(2)]}),(0,a.jsx)("td",{className:"px-6 py-4 text-sm text-gray-500",children:new Date(e.lastLogin).toLocaleDateString()}),(0,a.jsx)("td",{className:"px-6 py-4",children:(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("button",{onClick:()=>$(e.id),className:"p-1 text-blue-600 hover:bg-blue-50 rounded",title:"View Details",children:(0,a.jsx)(m.Z,{className:"w-4 h-4"})}),(0,a.jsx)("button",{onClick:()=>W(e.id),className:"p-1 text-purple-600 hover:bg-purple-50 rounded",title:"Activity Log",children:(0,a.jsx)(c.Z,{className:"w-4 h-4"})}),"active"===e.status?(0,a.jsx)("button",{onClick:()=>ea(e.id),className:"p-1 text-red-600 hover:bg-red-50 rounded",title:"Suspend",children:(0,a.jsx)(p.Z,{className:"w-4 h-4"})}):(0,a.jsx)("button",{onClick:()=>ei(e.id),className:"p-1 text-green-600 hover:bg-green-50 rounded",title:"Activate",children:(0,a.jsx)(h.Z,{className:"w-4 h-4"})})]})})]},e.id))})]})}),(0,a.jsxs)("div",{className:"px-6 py-4 border-t border-gray-200 flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"text-sm text-gray-700",children:["Showing ",(F-1)*10+1," to ",Math.min(10*F,Q.length)," of ",Q.length," users"]}),(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsx)("button",{onClick:()=>R(Math.max(1,F-1)),disabled:1===F,className:"px-3 py-1 border border-gray-300 rounded hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:(0,a.jsx)(g.Z,{className:"w-5 h-5"})}),Array.from({length:ee},(e,t)=>t+1).map(e=>(0,a.jsx)("button",{onClick:()=>R(e),className:"px-3 py-1 border rounded ".concat(F===e?"bg-blue-600 text-white border-blue-600":"border-gray-300 hover:bg-gray-50"),children:e},e)),(0,a.jsx)("button",{onClick:()=>R(Math.min(ee,F+1)),disabled:F===ee,className:"px-3 py-1 border border-gray-300 rounded hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:(0,a.jsx)(y.Z,{className:"w-5 h-5"})})]})]})]}),P&&(0,a.jsx)(E,{user:t.find(e=>e.id===P),onClose:()=>$(null)}),q&&(0,a.jsx)(M,{userId:q,onClose:()=>W(null)}),H&&(0,a.jsx)(U,{onClose:()=>J(!1)}),G&&(0,a.jsx)(O,{selectedCount:z.size,onSuspend:en,onEmail:()=>{let t=z.size;V(new Set),K(!1),e({title:"Email sent",description:"Notification email sent to ".concat(t," user(s).")})},onClose:()=>K(!1)})]})}function T(e){let{label:t,value:s,icon:i}=e;return(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow-sm p-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,a.jsx)("span",{className:"text-sm text-gray-600",children:t}),(0,a.jsx)("div",{className:"text-blue-600",children:i})]}),(0,a.jsx)("div",{className:"text-2xl font-bold text-gray-900",children:s})]})}function L(e){let{label:t,field:s,currentField:i,order:r,onClick:n}=e;return(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-700 uppercase cursor-pointer hover:bg-gray-100",onClick:()=>n(s),children:(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[t,i===s&&(0,a.jsx)("span",{className:"text-blue-600",children:"asc"===r?"↑":"↓"})]})})}function D(e){let{status:t,verified:s}=e;return(0,a.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,a.jsx)("span",{className:"inline-flex px-2 py-1 text-xs font-medium rounded-full ".concat({active:"bg-green-100 text-green-700",suspended:"bg-red-100 text-red-700",pending:"bg-yellow-100 text-yellow-700"}[t]),children:t}),!s&&(0,a.jsx)("span",{className:"inline-flex px-2 py-1 text-xs font-medium rounded-full bg-gray-100 text-gray-600",children:"Unverified"})]})}function E(e){let{user:t,onClose:s}=e;return(0,a.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:(0,a.jsxs)("div",{className:"bg-white rounded-xl shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[(0,a.jsxs)("div",{className:"sticky top-0 bg-white border-b border-gray-200 px-6 py-4 flex justify-between items-center",children:[(0,a.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:"User Details"}),(0,a.jsx)("button",{onClick:s,className:"text-gray-400 hover:text-gray-600",children:(0,a.jsx)(f.Z,{className:"w-6 h-6"})})]}),(0,a.jsxs)("div",{className:"p-6 space-y-6",children:[(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsxs)("div",{className:"w-20 h-20 bg-gradient-to-br from-blue-500 to-purple-600 rounded-full flex items-center justify-center text-white text-2xl font-bold",children:[t.firstName[0],t.lastName[0]]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("h3",{className:"text-xl font-bold text-gray-900",children:[t.firstName," ",t.lastName]}),(0,a.jsx)("p",{className:"text-gray-600",children:t.email}),(0,a.jsx)("div",{className:"flex gap-2 mt-2",children:(0,a.jsx)(D,{status:t.status,verified:t.emailVerified})})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsx)(_,{icon:(0,a.jsx)(v.Z,{}),label:"Role",value:t.role.replace("_"," ")}),(0,a.jsx)(_,{icon:(0,a.jsx)(l.Z,{}),label:"Member Since",value:new Date(t.createdAt).toLocaleDateString()}),(0,a.jsx)(_,{icon:(0,a.jsx)(c.Z,{}),label:"Last Login",value:new Date(t.lastLogin).toLocaleDateString()}),(0,a.jsx)(_,{icon:(0,a.jsx)(b.Z,{}),label:"Total Bookings",value:t.totalBookings.toString()}),(0,a.jsx)(_,{icon:(0,a.jsx)(j.Z,{}),label:"Total Spent",value:"$".concat(t.totalSpent.toFixed(2))}),(0,a.jsx)(_,{icon:(0,a.jsx)(o.Z,{}),label:"Reviews",value:t.reviewsCount.toString()})]}),(0,a.jsxs)("div",{className:"bg-gradient-to-br from-blue-50 to-purple-50 rounded-lg p-4",children:[(0,a.jsx)("h4",{className:"font-semibold text-gray-900 mb-3",children:"User Statistics"}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(I,{label:"Engagement Score",value:85,max:100,color:"blue"}),(0,a.jsx)(I,{label:"Booking Rate",value:t.totalBookings,max:100,color:"green"}),(0,a.jsx)(I,{label:"Review Activity",value:t.reviewsCount,max:50,color:"purple"})]})]})]})]})})}function _(e){let{icon:t,label:s,value:i}=e;return(0,a.jsxs)("div",{className:"flex items-start gap-3",children:[(0,a.jsx)("div",{className:"text-blue-600 mt-1",children:t}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-sm text-gray-600",children:s}),(0,a.jsx)("div",{className:"font-medium text-gray-900",children:i})]})]})}function I(e){let{label:t,value:s,max:i,color:r}=e,n=Math.min(s/i*100,100);return(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex justify-between text-sm mb-1",children:[(0,a.jsx)("span",{className:"text-gray-700",children:t}),(0,a.jsxs)("span",{className:"text-gray-900 font-medium",children:[s,"/",i]})]}),(0,a.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2",children:(0,a.jsx)("div",{className:"h-2 rounded-full ".concat({blue:"bg-blue-600",green:"bg-green-600",purple:"bg-purple-600"}[r]),style:{width:"".concat(n,"%")}})})]})}function M(e){let{userId:t,onClose:s}=e,[r,n]=(0,i.useState)([]),[c,d]=(0,i.useState)(!0);(0,i.useEffect)(()=>{u()},[t]);let u=async()=>{try{d(!0);let e=await A.getUserActivities(t);n(e)}catch(e){console.error("Failed to load activities:",e)}finally{d(!1)}},x={login:(0,a.jsx)(v.Z,{className:"w-5 h-5"}),booking:(0,a.jsx)(l.Z,{className:"w-5 h-5"}),review:(0,a.jsx)(o.Z,{className:"w-5 h-5"}),profile_update:(0,a.jsx)(b.Z,{className:"w-5 h-5"}),password_change:(0,a.jsx)(v.Z,{className:"w-5 h-5"}),admin_action:(0,a.jsx)(v.Z,{className:"w-5 h-5"})},m={login:"bg-blue-100 text-blue-600",booking:"bg-green-100 text-green-600",review:"bg-yellow-100 text-yellow-600",profile_update:"bg-purple-100 text-purple-600",password_change:"bg-red-100 text-red-600",admin_action:"bg-orange-100 text-orange-600"};return(0,a.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:(0,a.jsxs)("div",{className:"bg-white rounded-xl shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[(0,a.jsxs)("div",{className:"sticky top-0 bg-white border-b border-gray-200 px-6 py-4 flex justify-between items-center",children:[(0,a.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:"Activity Log"}),(0,a.jsx)("button",{onClick:s,className:"text-gray-400 hover:text-gray-600",children:(0,a.jsx)(f.Z,{className:"w-6 h-6"})})]}),(0,a.jsx)("div",{className:"p-6",children:0===r.length?(0,a.jsx)("div",{className:"text-center py-8 text-gray-500",children:"No activity history available"}):(0,a.jsx)("div",{className:"space-y-4",children:r.map(e=>(0,a.jsxs)("div",{className:"flex gap-4 p-4 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors",children:[(0,a.jsx)("div",{className:"w-10 h-10 rounded-full flex items-center justify-center flex-shrink-0 ".concat(m[e.type]),children:x[e.type]}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("div",{className:"font-medium text-gray-900",children:e.description}),(0,a.jsx)("div",{className:"text-sm text-gray-500 mt-1",children:new Date(e.timestamp).toLocaleString()}),e.metadata&&(0,a.jsx)("div",{className:"text-sm text-gray-600 mt-2",children:Object.entries(e.metadata).map(e=>{let[t,s]=e;return(0,a.jsxs)("span",{className:"mr-3",children:[(0,a.jsxs)("strong",{children:[t,":"]})," ",s]},t)})})]})]},e.id))})})]})})}function U(e){let{onClose:t}=e,{toast:s}=(0,S.pm)(),[r,n]=(0,i.useState)([]),[l,c]=(0,i.useState)(!0);(0,i.useEffect)(()=>{o()},[]);let o=async()=>{try{c(!0);let e=await A.getAllApplications();n(e.filter(e=>"pending"===e.status))}catch(e){console.error("Failed to load applications:",e)}finally{c(!1)}},d=async e=>{try{await A.approveApplication(e),await o(),s({title:"Application approved",description:"Restaurant has been approved and notified."})}catch(e){s({title:"Error",description:"Failed to approve application",variant:"destructive"})}},u=async e=>{try{await A.rejectApplication(e),await o(),s({title:"Application rejected",description:"Application has been rejected and applicant notified.",variant:"destructive"})}catch(e){s({title:"Error",description:"Failed to reject application",variant:"destructive"})}};return(0,a.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:(0,a.jsxs)("div",{className:"bg-white rounded-xl shadow-2xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[(0,a.jsxs)("div",{className:"sticky top-0 bg-white border-b border-gray-200 px-6 py-4 flex justify-between items-center",children:[(0,a.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:"Pending Restaurant Applications"}),(0,a.jsx)("button",{onClick:t,className:"text-gray-400 hover:text-gray-600",children:(0,a.jsx)(f.Z,{className:"w-6 h-6"})})]}),(0,a.jsx)("div",{className:"p-6 space-y-4",children:0===r.length?(0,a.jsx)("div",{className:"text-center py-8 text-gray-500",children:"No pending applications"}):r.map(e=>(0,a.jsxs)("div",{className:"border border-gray-200 rounded-lg p-6 hover:shadow-md transition-shadow",children:[(0,a.jsxs)("div",{className:"flex justify-between items-start mb-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-xl font-bold text-gray-900",children:e.businessName}),(0,a.jsxs)("p",{className:"text-gray-600",children:[e.ownerName," • ",e.ownerEmail]})]}),(0,a.jsx)("span",{className:"px-3 py-1 text-sm font-medium bg-yellow-100 text-yellow-700 rounded-full",children:"Pending Review"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-sm text-gray-600",children:"Location"}),(0,a.jsx)("div",{className:"font-medium text-gray-900",children:e.city})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-sm text-gray-600",children:"Capacity"}),(0,a.jsxs)("div",{className:"font-medium text-gray-900",children:[e.capacity," seats"]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-sm text-gray-600",children:"Cuisine"}),(0,a.jsx)("div",{className:"font-medium text-gray-900",children:e.cuisine.join(", ")})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-sm text-gray-600",children:"Submitted"}),(0,a.jsx)("div",{className:"font-medium text-gray-900",children:new Date(e.submittedAt).toLocaleDateString()})]})]}),(0,a.jsxs)("div",{className:"mb-4",children:[(0,a.jsx)("div",{className:"text-sm font-medium text-gray-700 mb-2",children:"Document Verification"}),(0,a.jsxs)("div",{className:"flex gap-3",children:[(0,a.jsx)(B,{label:"Business License",verified:e.documents.businessLicense}),(0,a.jsx)(B,{label:"Tax ID",verified:e.documents.taxId}),(0,a.jsx)(B,{label:"Health Cert",verified:e.documents.healthCertificate})]})]}),(0,a.jsxs)("div",{className:"flex gap-3",children:[(0,a.jsxs)("button",{onClick:()=>d(e.id),disabled:!e.documents.businessLicense||!e.documents.taxId||!e.documents.healthCertificate,className:"flex-1 flex items-center justify-center gap-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[(0,a.jsx)(N.Z,{className:"w-5 h-5"}),"Approve"]}),(0,a.jsxs)("button",{onClick:()=>u(e.id),className:"flex-1 flex items-center justify-center gap-2 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:[(0,a.jsx)(w.Z,{className:"w-5 h-5"}),"Reject"]}),(0,a.jsx)("button",{className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:(0,a.jsx)(k.Z,{className:"w-5 h-5"})})]})]},e.id))})]})})}function B(e){let{label:t,verified:s}=e;return(0,a.jsxs)("div",{className:"flex items-center gap-2 px-3 py-1 rounded-lg ".concat(s?"bg-green-100 text-green-700":"bg-red-100 text-red-700"),children:[s?(0,a.jsx)(N.Z,{className:"w-4 h-4"}):(0,a.jsx)(w.Z,{className:"w-4 h-4"}),(0,a.jsx)("span",{className:"text-sm font-medium",children:t})]})}function O(e){let{selectedCount:t,onSuspend:s,onEmail:i,onClose:r}=e;return(0,a.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:(0,a.jsxs)("div",{className:"bg-white rounded-xl shadow-2xl max-w-md w-full",children:[(0,a.jsxs)("div",{className:"px-6 py-4 border-b border-gray-200",children:[(0,a.jsx)("h2",{className:"text-xl font-bold text-gray-900",children:"Bulk Actions"}),(0,a.jsxs)("p",{className:"text-sm text-gray-600 mt-1",children:[t," user(s) selected"]})]}),(0,a.jsxs)("div",{className:"p-6 space-y-3",children:[(0,a.jsxs)("button",{onClick:s,className:"w-full flex items-center gap-3 px-4 py-3 bg-red-50 text-red-700 rounded-lg hover:bg-red-100 transition-colors",children:[(0,a.jsx)(p.Z,{className:"w-5 h-5"}),(0,a.jsx)("span",{className:"font-medium",children:"Suspend Users"})]}),(0,a.jsxs)("button",{onClick:i,className:"w-full flex items-center gap-3 px-4 py-3 bg-blue-50 text-blue-700 rounded-lg hover:bg-blue-100 transition-colors",children:[(0,a.jsx)(k.Z,{className:"w-5 h-5"}),(0,a.jsx)("span",{className:"font-medium",children:"Send Email Notification"})]}),(0,a.jsx)("button",{onClick:r,className:"w-full px-4 py-3 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancel"})]})]})})}},798:function(e,t,s){"use strict";s.d(t,{pm:function(){return x}});var a=s(2265);let i=0,r=new Map,n=e=>{if(r.has(e))return;let t=setTimeout(()=>{r.delete(e),d({type:"REMOVE_TOAST",toastId:e})},1e6);r.set(e,t)},l=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===t.toast.id?{...e,...t.toast}:e)};case"DISMISS_TOAST":{let{toastId:s}=t;return s?n(s):e.toasts.forEach(e=>{n(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===s||void 0===s?{...e,open:!1}:e)}}case"REMOVE_TOAST":if(void 0===t.toastId)return{...e,toasts:[]};return{...e,toasts:e.toasts.filter(e=>e.id!==t.toastId)}}},c=[],o={toasts:[]};function d(e){o=l(o,e),c.forEach(e=>{e(o)})}function u(e){let{...t}=e,s=(i=(i+1)%Number.MAX_SAFE_INTEGER).toString(),a=()=>d({type:"DISMISS_TOAST",toastId:s});return d({type:"ADD_TOAST",toast:{...t,id:s,open:!0,onOpenChange:e=>{e||a()}}}),{id:s,dismiss:a,update:e=>d({type:"UPDATE_TOAST",toast:{...e,id:s}})}}function x(){let[e,t]=a.useState(o);return a.useEffect(()=>(c.push(t),()=>{let e=c.indexOf(t);e>-1&&c.splice(e,1)}),[e]),{...e,toast:u,dismiss:e=>d({type:"DISMISS_TOAST",toastId:e})}}},622:function(e,t,s){"use strict";var a=s(2265),i=Symbol.for("react.element"),r=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,l=a.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,c={key:!0,ref:!0,__self:!0,__source:!0};function o(e,t,s){var a,r={},o=null,d=null;for(a in void 0!==s&&(o=""+s),void 0!==t.key&&(o=""+t.key),void 0!==t.ref&&(d=t.ref),t)n.call(t,a)&&!c.hasOwnProperty(a)&&(r[a]=t[a]);if(e&&e.defaultProps)for(a in t=e.defaultProps)void 0===r[a]&&(r[a]=t[a]);return{$$typeof:i,type:e,key:o,ref:d,props:r,_owner:l.current}}t.Fragment=r,t.jsx=o,t.jsxs=o},7437:function(e,t,s){"use strict";e.exports=s(622)}},function(e){e.O(0,[2971,2472,1744],function(){return e(e.s=226)}),_N_E=e.O()}]);