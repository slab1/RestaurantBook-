(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9091],{2898:function(e,t,r){"use strict";r.d(t,{Z:function(){return i}});var a=r(2265),s={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let n=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),i=(e,t)=>{let r=(0,a.forwardRef)(({color:r="currentColor",size:i=24,strokeWidth:o=2,absoluteStrokeWidth:l,children:c,...d},u)=>(0,a.createElement)("svg",{ref:u,...s,width:i,height:i,stroke:r,strokeWidth:l?24*Number(o)/Number(i):o,className:`lucide lucide-${n(e)}`,...d},[...t.map(([e,t])=>(0,a.createElement)(e,t)),...(Array.isArray(c)?c:[c])||[]]));return r.displayName=`${e}`,r}},2894:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});var a=r(2898);let s=(0,a.Z)("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]])},4689:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});var a=r(2898);let s=(0,a.Z)("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]])},3021:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});var a=r(2898);let s=(0,a.Z)("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]])},8203:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});var a=r(2898);let s=(0,a.Z)("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]])},3523:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});var a=r(2898);let s=(0,a.Z)("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]])},1291:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});var a=r(2898);let s=(0,a.Z)("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]])},7158:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});var a=r(2898);let s=(0,a.Z)("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]])},3505:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});var a=r(2898);let s=(0,a.Z)("Flag",[["path",{d:"M4 15s1-1 4-1 5 2 8 2 4-1 4-1V3s-1 1-4 1-5-2-8-2-4 1-4 1z",key:"i9b6wo"}],["line",{x1:"4",x2:"4",y1:"22",y2:"15",key:"1cm3nv"}]])},7480:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});var a=r(2898);let s=(0,a.Z)("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]])},5883:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});var a=r(2898);let s=(0,a.Z)("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]])},2882:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});var a=r(2898);let s=(0,a.Z)("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]])},4280:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});var a=r(2898);let s=(0,a.Z)("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]])},1827:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});var a=r(2898);let s=(0,a.Z)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]])},9409:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});var a=r(2898);let s=(0,a.Z)("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},9036:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});var a=r(2898);let s=(0,a.Z)("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]])},268:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});var a=r(2898);let s=(0,a.Z)("Store",[["path",{d:"m2 7 4.41-4.41A2 2 0 0 1 7.83 2h8.34a2 2 0 0 1 1.42.59L22 7",key:"ztvudi"}],["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["path",{d:"M15 22v-4a2 2 0 0 0-2-2h-2a2 2 0 0 0-2 2v4",key:"2ebpfo"}],["path",{d:"M2 7h20",key:"1fcdvo"}],["path",{d:"M22 7v3a2 2 0 0 1-2 2v0a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 16 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 12 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 8 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 4 12v0a2 2 0 0 1-2-2V7",key:"jon5kx"}]])},7972:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});var a=r(2898);let s=(0,a.Z)("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]])},5750:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});var a=r(2898);let s=(0,a.Z)("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]])},5003:function(e,t,r){Promise.resolve().then(r.bind(r,195)),Promise.resolve().then(r.bind(r,5924)),Promise.resolve().then(r.bind(r,5531)),Promise.resolve().then(r.bind(r,119)),Promise.resolve().then(r.bind(r,6225))},195:function(e,t,r){"use strict";r.r(t),r.d(t,{AdminAuthGuard:function(){return n}});var a=r(7437),s=r(2265);function n(e){let{children:t}=e,[r,n]=(0,s.useState)(null),[i,o]=(0,s.useState)(!0);return((0,s.useEffect)(()=>{(()=>{try{let e=localStorage.getItem("demo_user");if(e){let t=JSON.parse(e);if("admin"===t.role){n(!0),o(!1);return}}n(!1),o(!1)}catch(e){console.error("Failed to parse stored user:",e),n(!1),o(!1)}})()},[]),i)?(0,a.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mb-4"}),(0,a.jsx)("p",{className:"text-gray-600",children:"Loading admin dashboard..."})]})}):r?(0,a.jsx)(a.Fragment,{children:t}):(0,a.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:(0,a.jsxs)("div",{className:"max-w-md w-full bg-white rounded-lg shadow-lg p-8 text-center",children:[(0,a.jsx)("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,a.jsx)("svg",{className:"w-8 h-8 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})})}),(0,a.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Admin Access Required"}),(0,a.jsx)("p",{className:"text-gray-600 mb-6",children:"You need administrator privileges to access this area."}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsx)("a",{href:"/admin/login",className:"block w-full bg-blue-600 text-white py-3 px-4 rounded-lg hover:bg-blue-700 transition-colors font-medium",children:"Go to Admin Login"}),(0,a.jsx)("a",{href:"/",className:"block w-full bg-gray-100 text-gray-700 py-3 px-4 rounded-lg hover:bg-gray-200 transition-colors font-medium",children:"Return to Homepage"})]})]})})}},5924:function(e,t,r){"use strict";r.r(t),r.d(t,{AdminHeader:function(){return h}});var a=r(7437),s=r(7970),n=r(4033),i=r(1827),o=r(3021),l=r(7972),c=r(3523),d=r(5883),u=r(2265);function h(){let{user:e,logout:t}=(0,s.useAuth)(),r=(0,n.useRouter)(),[h,m]=(0,u.useState)(!1),[f,x]=(0,u.useState)(!1),y=(0,u.useRef)(null),g=(0,u.useRef)(null);(0,u.useEffect)(()=>{function e(e){y.current&&!y.current.contains(e.target)&&m(!1),g.current&&!g.current.contains(e.target)&&x(!1)}return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[]);let p=[{id:1,title:"New restaurant pending approval",time:"5 min ago",unread:!0},{id:2,title:"Support ticket #1234 needs attention",time:"1 hour ago",unread:!0},{id:3,title:"System backup completed",time:"2 hours ago",unread:!1}],v=p.filter(e=>e.unread).length;return(0,a.jsxs)("header",{className:"bg-white border-b border-gray-200 h-16 flex items-center justify-between px-6",children:[(0,a.jsx)("div",{className:"flex-1 max-w-2xl",children:(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(i.Z,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),(0,a.jsx)("input",{type:"text",placeholder:"Search users, restaurants, bookings...",className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]})}),(0,a.jsxs)("div",{className:"flex items-center space-x-4 ml-6",children:[(0,a.jsxs)("div",{className:"relative",ref:g,children:[(0,a.jsxs)("button",{onClick:()=>x(!f),className:"relative p-2 text-gray-600 hover:bg-gray-100 rounded-lg transition-colors","aria-label":"Notifications",children:[(0,a.jsx)(o.Z,{className:"w-5 h-5"}),v>0&&(0,a.jsx)("span",{className:"absolute top-1 right-1 w-2 h-2 bg-red-500 rounded-full"})]}),f&&(0,a.jsxs)("div",{className:"absolute right-0 mt-2 w-80 bg-white rounded-lg shadow-lg border border-gray-200 z-50",children:[(0,a.jsx)("div",{className:"p-4 border-b border-gray-200",children:(0,a.jsx)("h3",{className:"font-semibold text-gray-900",children:"Notifications"})}),(0,a.jsx)("div",{className:"max-h-96 overflow-y-auto",children:p.map(e=>(0,a.jsxs)("div",{className:"p-4 border-b border-gray-100 hover:bg-gray-50 cursor-pointer ".concat(e.unread?"bg-blue-50":""),children:[(0,a.jsx)("p",{className:"text-sm text-gray-900",children:e.title}),(0,a.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:e.time})]},e.id))}),(0,a.jsx)("div",{className:"p-3 text-center border-t border-gray-200",children:(0,a.jsx)("button",{className:"text-sm text-blue-600 hover:text-blue-700",children:"View all notifications"})})]})]}),(0,a.jsxs)("div",{className:"relative",ref:y,children:[(0,a.jsxs)("button",{onClick:()=>m(!h),className:"flex items-center space-x-3 p-2 hover:bg-gray-100 rounded-lg transition-colors",children:[(0,a.jsx)("div",{className:"w-8 h-8 bg-blue-600 rounded-full flex items-center justify-center",children:(0,a.jsx)(l.Z,{className:"w-5 h-5 text-white"})}),(0,a.jsxs)("div",{className:"text-left hidden md:block",children:[(0,a.jsxs)("p",{className:"text-sm font-medium text-gray-900",children:[(null==e?void 0:e.firstName)||"Admin"," ",(null==e?void 0:e.lastName)||"User"]}),(0,a.jsx)("p",{className:"text-xs text-gray-500",children:"Administrator"})]}),(0,a.jsx)(c.Z,{className:"w-4 h-4 text-gray-500"})]}),h&&(0,a.jsxs)("div",{className:"absolute right-0 mt-2 w-56 bg-white rounded-lg shadow-lg border border-gray-200 z-50",children:[(0,a.jsxs)("div",{className:"p-3 border-b border-gray-200",children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-900",children:(null==e?void 0:e.email)||"admin@restaurantbook.com"}),(0,a.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Administrator Account"})]}),(0,a.jsxs)("div",{className:"py-2",children:[(0,a.jsxs)("button",{onClick:()=>r.push("/admin/settings"),className:"w-full px-4 py-2 text-left text-sm text-gray-700 hover:bg-gray-100 flex items-center",children:[(0,a.jsx)(l.Z,{className:"w-4 h-4 mr-3"}),"Account Settings"]}),(0,a.jsxs)("button",{onClick:()=>{t(),r.push("/admin/login")},className:"w-full px-4 py-2 text-left text-sm text-red-600 hover:bg-red-50 flex items-center",children:[(0,a.jsx)(d.Z,{className:"w-4 h-4 mr-3"}),"Logout"]})]})]})]})]})]})}},5531:function(e,t,r){"use strict";r.r(t),r.d(t,{AdminSidebar:function(){return N}});var a=r(7437),s=r(2265),n=r(1396),i=r.n(n),o=r(4033),l=r(2898);let c=(0,l.Z)("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);var d=r(5750),u=r(268),h=r(8203),m=r(3505),f=r(4689),x=r(2882),y=r(9036),g=r(9409),p=r(7158),v=r(1291);let b=[{name:"Dashboard",href:"/admin",icon:c},{name:"User Management",href:"/admin/users",icon:d.Z},{name:"Restaurant Management",href:"/admin/restaurants",icon:u.Z},{name:"Booking Oversight",href:"/admin/bookings",icon:h.Z},{name:"Content Moderation",href:"/admin/content",icon:m.Z},{name:"Analytics & Reports",href:"/admin/analytics",icon:f.Z},{name:"Customer Support",href:"/admin/support",icon:x.Z},{name:"Security & Compliance",href:"/admin/security",icon:y.Z},{name:"Settings",href:"/admin/settings",icon:g.Z}];function N(){let e=(0,o.usePathname)(),[t,r]=(0,s.useState)(!1);return(0,a.jsxs)("div",{className:"bg-gray-900 text-white transition-all duration-300 ".concat(t?"w-16":"w-64"," flex flex-col"),children:[(0,a.jsxs)("div",{className:"h-16 flex items-center justify-between px-4 border-b border-gray-800",children:[!t&&(0,a.jsxs)(i(),{href:"/admin",className:"flex items-center space-x-2",children:[(0,a.jsx)("div",{className:"w-8 h-8 bg-blue-600 rounded-lg flex items-center justify-center",children:(0,a.jsx)(u.Z,{className:"w-5 h-5"})}),(0,a.jsx)("span",{className:"font-semibold text-lg",children:"Admin Panel"})]}),(0,a.jsx)("button",{onClick:()=>r(!t),className:"p-1 rounded hover:bg-gray-800 transition-colors","aria-label":t?"Expand sidebar":"Collapse sidebar",children:t?(0,a.jsx)(p.Z,{className:"w-5 h-5"}):(0,a.jsx)(v.Z,{className:"w-5 h-5"})})]}),(0,a.jsx)("nav",{className:"flex-1 overflow-y-auto py-4",children:(0,a.jsx)("ul",{className:"space-y-1 px-2",children:b.map(r=>{let s=e===r.href||"/admin"!==r.href&&(null==e?void 0:e.startsWith(r.href));return(0,a.jsx)("li",{children:(0,a.jsxs)(i(),{href:r.href,className:"flex items-center px-3 py-2 rounded-lg transition-colors ".concat(s?"bg-blue-600 text-white":"text-gray-300 hover:bg-gray-800 hover:text-white"),title:t?r.name:"",children:[(0,a.jsx)(r.icon,{className:"w-5 h-5 ".concat(t?"mx-auto":"mr-3")}),!t&&(0,a.jsx)("span",{className:"text-sm font-medium",children:r.name})]})},r.name)})})}),!t&&(0,a.jsxs)("div",{className:"p-4 border-t border-gray-800",children:[(0,a.jsx)("p",{className:"text-xs text-gray-500",children:"Admin Dashboard v1.0"}),(0,a.jsx)("p",{className:"text-xs text-gray-500",children:"RestaurantBook Platform"})]})]})}},119:function(e,t,r){"use strict";r.r(t),r.d(t,{ErrorBoundary:function(){return l},ErrorBoundaryWrapper:function(){return c}});var a=r(7437),s=r(2265),n=r(2894),i=r(4280),o=r(7480);class l extends s.Component{static getDerivedStateFromError(e){return{hasError:!0,error:e,errorInfo:null}}componentDidCatch(e,t){console.error("[ErrorBoundary] Caught error:",e,t),this.setState({error:e,errorInfo:t})}render(){return this.state.hasError?this.props.fallback?this.props.fallback:(0,a.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 px-4",children:(0,a.jsx)("div",{className:"max-w-md w-full bg-white rounded-lg shadow-lg p-8",children:(0,a.jsxs)("div",{className:"flex flex-col items-center text-center",children:[(0,a.jsx)("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mb-4",children:(0,a.jsx)(n.Z,{className:"w-8 h-8 text-red-600"})}),(0,a.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Something went wrong"}),(0,a.jsx)("p",{className:"text-gray-600 mb-6",children:"The application encountered an error. Please try refreshing the page or return to the homepage."}),!1,(0,a.jsxs)("div",{className:"flex gap-3 w-full",children:[(0,a.jsxs)("button",{onClick:this.handleReset,className:"flex-1 flex items-center justify-center gap-2 bg-blue-600 text-white py-3 px-4 rounded-lg hover:bg-blue-700 transition-colors font-medium",children:[(0,a.jsx)(i.Z,{className:"w-4 h-4"}),"Refresh Page"]}),(0,a.jsxs)("button",{onClick:this.handleGoHome,className:"flex-1 flex items-center justify-center gap-2 bg-gray-100 text-gray-700 py-3 px-4 rounded-lg hover:bg-gray-200 transition-colors font-medium",children:[(0,a.jsx)(o.Z,{className:"w-4 h-4"}),"Go Home"]})]})]})})}):this.props.children}constructor(e){super(e),this.handleReset=()=>{this.setState({hasError:!1,error:null,errorInfo:null}),window.location.reload()},this.handleGoHome=()=>{window.location.href="/"},this.state={hasError:!1,error:null,errorInfo:null}}}function c(e){let{children:t,fallback:r}=e;return(0,a.jsx)(l,{fallback:r,children:t})}},7970:function(e,t,r){"use strict";r.r(t),r.d(t,{AuthProvider:function(){return i},useAuth:function(){return o}});var a=r(7437),s=r(2265);let n=(0,s.createContext)(void 0);function i(e){let{children:t}=e,[r,i]=(0,s.useState)(null),[o,l]=(0,s.useState)(!0),[c,d]=(0,s.useState)(!1);(0,s.useEffect)(()=>{d(!0)},[]),(0,s.useEffect)(()=>{c&&u()},[c]);let u=async()=>{try{{let e=localStorage.getItem("demo_user");if(e)try{i(JSON.parse(e)),l(!1);return}catch(e){console.error("[Auth] Failed to parse stored user:",e),localStorage.removeItem("demo_user")}}}catch(e){console.debug("[Auth] Auth check skipped:",e)}finally{l(!1)}},h=async(e,t)=>{try{if(l(!0),console.log("[Auth] Login attempt for:",e),"demo@restaurantbook.com"===e&&"password123"===t){let e={id:"demo-user-123",email:"demo@restaurantbook.com",firstName:"Demo",lastName:"User",role:"customer",avatar:"",emailVerified:!0,twoFactorEnabled:!1};return console.log("[Auth] Demo login successful"),localStorage.setItem("demo_user",JSON.stringify(e)),i(e),!0}if("admin@restaurantbook.com"===e&&"admin123"===t){let e={id:"admin-user-123",email:"admin@restaurantbook.com",firstName:"Admin",lastName:"User",role:"admin",avatar:"",emailVerified:!0,twoFactorEnabled:!1};return console.log("[Auth] Admin login successful"),localStorage.setItem("demo_user",JSON.stringify(e)),i(e),!0}return console.log("[Auth] Login failed - invalid credentials"),!1}catch(e){return console.error("[Auth] Login error:",e),!1}finally{l(!1)}},m=async e=>{try{l(!0);let t={id:"user-".concat(Date.now()),email:e.email,firstName:e.firstName,lastName:e.lastName,role:e.role||"customer",avatar:"",emailVerified:!1,twoFactorEnabled:!1};return localStorage.setItem("demo_user",JSON.stringify(t)),i(t),!0}catch(e){return console.error("[Auth] Registration error:",e),!1}finally{l(!1)}},f=async()=>{try{localStorage.removeItem("demo_user")}catch(e){console.debug("[Auth] Logout error:",e)}i(null)};return(0,a.jsx)(n.Provider,{value:{user:r,login:h,register:m,logout:f,loading:o},children:t})}function o(){let e=(0,s.useContext)(n);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}},6225:function(e,t,r){"use strict";r.r(t),r.d(t,{SafeClientProvider:function(){return n}});var a=r(7437),s=r(2265);function n(e){let{children:t}=e,[r,n]=(0,s.useState)(!1);return((0,s.useEffect)(()=>{n(!0)},[]),r)?(0,a.jsx)(a.Fragment,{children:t}):(0,a.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-background",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-b-2 border-primary mb-4"}),(0,a.jsx)("p",{className:"text-muted-foreground",children:"Loading..."})]})})}},622:function(e,t,r){"use strict";var a=r(2265),s=Symbol.for("react.element"),n=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,o=a.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,r){var a,n={},c=null,d=null;for(a in void 0!==r&&(c=""+r),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(d=t.ref),t)i.call(t,a)&&!l.hasOwnProperty(a)&&(n[a]=t[a]);if(e&&e.defaultProps)for(a in t=e.defaultProps)void 0===n[a]&&(n[a]=t[a]);return{$$typeof:s,type:e,key:c,ref:d,props:n,_owner:o.current}}t.Fragment=n,t.jsx=c,t.jsxs=c},7437:function(e,t,r){"use strict";e.exports=r(622)},1396:function(e,t,r){e.exports=r(8326)},4033:function(e,t,r){e.exports=r(94)}},function(e){e.O(0,[8326,2971,2472,1744],function(){return e(e.s=5003)}),_N_E=e.O()}]);