(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1741],{6142:function(e,a,n){"use strict";n.d(a,{Z:function(){return i}});var t=n(2898);let i=(0,t.Z)("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]])},5340:function(e,a,n){"use strict";n.d(a,{Z:function(){return i}});var t=n(2898);let i=(0,t.Z)("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]])},9597:function(e,a,n){Promise.resolve().then(n.bind(n,1134))},1134:function(e,a,n){"use strict";n.r(a),n.d(a,{default:function(){return p}});var t=n(7437),i=n(2265),r=n(2898);let s=(0,r.Z)("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]),l=(0,r.Z)("Navigation",[["polygon",{points:"3 11 22 2 13 21 11 13 3 11",key:"1ltx0t"}]]);var o=n(6142),c=n(5340),d=n(9598),u=n(3611),m=n(1396),g=n.n(m);let x=[{id:"1",name:"Bella Vista",description:"Italian restaurant serving authentic pasta and wood-fired pizzas",address:"123 Main Street, New York, NY 10001",cuisine:"Italian",priceRange:"$$$",rating:4.5,imageUrl:"/imgs/authentic_italian_pasta_dinner_wine_cozy_setting.jpg",isOpen:!0,nextAvailableTime:"7:30 PM",coordinates:{lat:40.7505,lng:-73.9934},_count:{reviews:128}},{id:"2",name:"Sakura Sushi",description:"Fresh sushi and sashimi with traditional Japanese ambiance",address:"456 Oak Avenue, New York, NY 10002",cuisine:"Japanese",priceRange:"$$$$",rating:4.8,imageUrl:"/imgs/modern_japanese_sushi_restaurant_bar_chefs.jpg",isOpen:!0,nextAvailableTime:"8:00 PM",coordinates:{lat:40.7156,lng:-73.9862},_count:{reviews:256}},{id:"3",name:"Spice Route",description:"Authentic Indian cuisine with aromatic spices and traditional flavors",address:"789 Pine Street, New York, NY 10003",cuisine:"Indian",priceRange:"$$",rating:4.3,imageUrl:"/imgs/authentic_indian_chicken_tikka_masala_rice_naan.jpg",isOpen:!0,nextAvailableTime:"7:00 PM",coordinates:{lat:40.732,lng:-73.987},_count:{reviews:89}},{id:"4",name:"Le Petit Bistro",description:"French cuisine in an intimate, elegant setting",address:"321 Elm Street, New York, NY 10004",cuisine:"French",priceRange:"$$$$",rating:4.7,imageUrl:"/imgs/classic_french_bistro_elegant_dining_room.jpg",isOpen:!1,nextAvailableTime:"Closed - Opens Tomorrow 6:00 PM",coordinates:{lat:40.7047,lng:-74.0134},_count:{reviews:167}},{id:"5",name:"Golden Dragon",description:"Traditional Chinese cuisine with modern presentation",address:"654 Maple Drive, New York, NY 10005",cuisine:"Chinese",priceRange:"$$",rating:4.2,imageUrl:"/imgs/elegant_asian_fine_dining_restaurant_interior_luxury_decor.jpg",isOpen:!0,nextAvailableTime:"7:45 PM",coordinates:{lat:40.7069,lng:-74.0113},_count:{reviews:203}},{id:"6",name:"Sunset Grill",description:"American comfort food with a modern twist",address:"987 Cedar Lane, New York, NY 10006",cuisine:"American",priceRange:"$$$",rating:4.4,imageUrl:"/imgs/american_comfort_food_feast_family_restaurant.jpg",isOpen:!0,nextAvailableTime:"6:45 PM",coordinates:{lat:40.7127,lng:-74.0059},_count:{reviews:145}},{id:"7",name:"Mediterranean Delights",description:"Fresh Mediterranean dishes with organic ingredients",address:"147 Birch Road, New York, NY 10007",cuisine:"Mediterranean",priceRange:"$$",rating:4.6,imageUrl:"/imgs/elegant_upscale_fine_dining_restaurant_interior.jpg",isOpen:!0,nextAvailableTime:"8:15 PM",coordinates:{lat:40.7149,lng:-74.0089},_count:{reviews:98}},{id:"8",name:"Taco Fiesta",description:"Authentic Mexican street food and colorful atmosphere",address:"258 Walnut Street, New York, NY 10008",cuisine:"Mexican",priceRange:"$",rating:4.1,imageUrl:"/imgs/luxury_restaurant_interior_golden_chandelier_elegant_setting.jpg",isOpen:!0,nextAvailableTime:"7:30 PM",coordinates:{lat:40.7217,lng:-73.9956},_count:{reviews:178}},{id:"9",name:"Vine & Dine",description:"Wine bar with small plates and extensive wine selection",address:"369 Cherry Street, New York, NY 10009",cuisine:"Wine Bar",priceRange:"$$$",rating:4.5,imageUrl:"/imgs/elegant_french_bistro_wine_atmosphere.jpg",isOpen:!0,nextAvailableTime:"8:30 PM",coordinates:{lat:40.7258,lng:-73.9818},_count:{reviews:112}},{id:"10",name:"The Golden Spoon",description:"Fine dining experience with contemporary cuisine",address:"753 Park Avenue, New York, NY 10010",cuisine:"Contemporary",priceRange:"$$$$",rating:4.8,imageUrl:"/imgs/elegant_fine_dining_restaurant_interior_wooden_decor.jpg",isOpen:!0,nextAvailableTime:"9:00 PM",coordinates:{lat:40.7367,lng:-73.9821},_count:{reviews:234}}];function h(e){return e*Math.PI/180}function p(){let[e,a]=(0,i.useState)(null),[n,r]=(0,i.useState)([]),[m,p]=(0,i.useState)(!0),[f,b]=(0,i.useState)(null),[N,v]=(0,i.useState)(!1);(0,i.useEffect)(()=>{w()},[]);let w=()=>{if(p(!0),v(!0),b(null),!("geolocation"in navigator)){b("Geolocation is not supported by your browser."),p(!1),v(!1);return}console.log("[Nearby] Requesting geolocation..."),navigator.geolocation.getCurrentPosition(e=>{let{latitude:n,longitude:t}=e.coords;console.log("[Nearby] Location obtained: ".concat(n,", ").concat(t)),a({lat:n,lng:t});let i=function(e,a){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10;return x.map(n=>{if(!n.coordinates)return{...n,distance:999};let t=function(e,a,n,t){let i=h(n-e),r=h(t-a),s=Math.sin(i/2)*Math.sin(i/2)+Math.cos(h(e))*Math.cos(h(n))*Math.sin(r/2)*Math.sin(r/2);return 6371*(2*Math.atan2(Math.sqrt(s),Math.sqrt(1-s)))}(e,a,n.coordinates.lat,n.coordinates.lng);return{...n,distance:parseFloat(t.toFixed(1))}}).filter(e=>e.distance<=n).sort((e,a)=>e.distance-a.distance)}(n,t,10);console.log("[Nearby] Found ".concat(i.length," restaurants within 10km")),r(i),p(!1),v(!1)},e=>{console.error("[Nearby] Geolocation error:",e);let a="Unable to access location. ";switch(e.code){case e.PERMISSION_DENIED:a+="Location permission denied. Please enable location access in your browser settings.";break;case e.POSITION_UNAVAILABLE:a+="Location information unavailable. Please try again.";break;case e.TIMEOUT:a+="Location request timed out. Please try again.";break;default:a+="An unknown error occurred."}b(a),p(!1),v(!1)},{enableHighAccuracy:!0,timeout:1e4,maximumAge:0})};return(0,t.jsx)("div",{className:"min-h-screen pb-20",children:(0,t.jsxs)("div",{className:"max-w-4xl mx-auto",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,t.jsx)("h1",{className:"text-3xl font-bold",children:"Nearby Restaurants"}),(0,t.jsx)(u.z,{onClick:w,variant:"outline",size:"sm",disabled:N,children:N?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(s,{className:"h-4 w-4 mr-2 animate-spin"}),"Locating..."]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(l,{className:"h-4 w-4 mr-2"}),"Refresh"]})})]}),f&&(0,t.jsx)(d.Zb,{className:"mb-6 border-yellow-300 bg-yellow-50 dark:bg-yellow-950/20",children:(0,t.jsx)(d.aY,{className:"pt-6",children:(0,t.jsxs)("div",{className:"flex items-start gap-3 text-yellow-800 dark:text-yellow-200",children:[(0,t.jsx)(o.Z,{className:"h-5 w-5 mt-0.5 flex-shrink-0"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"font-medium mb-2",children:f}),(0,t.jsxs)(u.z,{onClick:w,size:"sm",variant:"outline",children:[(0,t.jsx)(l,{className:"h-4 w-4 mr-2"}),"Try Again"]})]})]})})}),m&&!f&&(0,t.jsx)(d.Zb,{className:"mb-6",children:(0,t.jsx)(d.aY,{className:"pt-6",children:(0,t.jsxs)("div",{className:"flex items-center gap-3 text-blue-600 dark:text-blue-400",children:[(0,t.jsx)(s,{className:"h-5 w-5 animate-spin"}),(0,t.jsx)("p",{children:"Searching for nearby restaurants..."})]})})}),e&&!m&&n.length>0&&(0,t.jsx)(d.Zb,{className:"mb-6 bg-blue-50 dark:bg-blue-950/20 border-blue-200",children:(0,t.jsxs)(d.aY,{className:"pt-6",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 text-blue-800 dark:text-blue-200",children:[(0,t.jsx)(o.Z,{className:"h-5 w-5"}),(0,t.jsxs)("p",{children:["Found ",n.length," restaurant",1!==n.length?"s":""," near your location"]})]}),(0,t.jsxs)("p",{className:"text-sm text-blue-600 dark:text-blue-300 mt-2",children:["Location: ",e.lat.toFixed(4),"\xb0N, ",Math.abs(e.lng).toFixed(4),"\xb0W"]})]})}),!m&&e&&0===n.length&&(0,t.jsx)(d.Zb,{className:"mb-6",children:(0,t.jsxs)(d.aY,{className:"pt-6 text-center",children:[(0,t.jsx)(o.Z,{className:"h-12 w-12 mx-auto mb-3 text-gray-400"}),(0,t.jsx)("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:"No restaurants found within 10km of your location."}),(0,t.jsxs)(u.z,{onClick:w,variant:"outline",children:[(0,t.jsx)(l,{className:"h-4 w-4 mr-2"}),"Try Again"]})]})}),(0,t.jsx)("div",{className:"space-y-4",children:n.map(e=>(0,t.jsx)(d.Zb,{className:"hover:shadow-lg transition-shadow",children:(0,t.jsx)(d.aY,{className:"p-6",children:(0,t.jsxs)("div",{className:"flex items-start gap-4",children:[(0,t.jsx)("div",{className:"w-24 h-24 bg-gray-200 dark:bg-gray-800 rounded-lg flex-shrink-0 overflow-hidden",children:(0,t.jsx)("img",{src:e.imageUrl,alt:e.name,className:"w-full h-full object-cover",onError:e=>{e.currentTarget.src="/placeholder.png"}})}),(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,t.jsxs)("div",{className:"flex items-start justify-between gap-2",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-lg font-semibold",children:e.name}),(0,t.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:e.cuisine})]}),(0,t.jsxs)("div",{className:"flex items-center gap-1 bg-yellow-100 dark:bg-yellow-900/30 px-2 py-1 rounded",children:[(0,t.jsx)(c.Z,{className:"h-4 w-4 text-yellow-600 fill-yellow-600"}),(0,t.jsx)("span",{className:"text-sm font-medium",children:e.rating})]})]}),(0,t.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-2 line-clamp-2",children:e.description}),(0,t.jsxs)("div",{className:"mt-3 flex items-center gap-4 text-sm",children:[(0,t.jsxs)("div",{className:"flex items-center gap-1 text-blue-600 dark:text-blue-400 font-medium",children:[(0,t.jsx)(o.Z,{className:"h-4 w-4"}),(0,t.jsxs)("span",{children:[e.distance," km away"]})]}),(0,t.jsx)("span",{className:"text-gray-500",children:e.priceRange}),(0,t.jsxs)("span",{className:"text-gray-500",children:[e._count.reviews," reviews"]})]}),e.isOpen&&e.nextAvailableTime&&(0,t.jsxs)("p",{className:"text-sm text-green-600 dark:text-green-400 mt-2",children:["Next available: ",e.nextAvailableTime]}),!1===e.isOpen&&(0,t.jsx)("p",{className:"text-sm text-red-600 dark:text-red-400 mt-2",children:"Currently closed"}),(0,t.jsx)("div",{className:"mt-4",children:(0,t.jsx)(g(),{href:"/restaurants/".concat(e.id),children:(0,t.jsx)(u.z,{size:"sm",className:"w-full sm:w-auto",children:"View Details & Book"})})})]})]})})},e.id))})]})})}},3611:function(e,a,n){"use strict";n.d(a,{z:function(){return c}});var t=n(7437),i=n(2265),r=n(7256),s=n(6061),l=n(1628);let o=(0,s.j)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),c=i.forwardRef((e,a)=>{let{className:n,variant:i,size:s,asChild:c=!1,...d}=e,u=c?r.g7:"button";return(0,t.jsx)(u,{className:(0,l.cn)(o({variant:i,size:s,className:n})),ref:a,...d})});c.displayName="Button"},9598:function(e,a,n){"use strict";n.d(a,{Ol:function(){return l},SZ:function(){return c},Zb:function(){return s},aY:function(){return d},eW:function(){return u},ll:function(){return o}});var t=n(7437),i=n(2265),r=n(1628);let s=i.forwardRef((e,a)=>{let{className:n,...i}=e;return(0,t.jsx)("div",{ref:a,className:(0,r.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",n),...i})});s.displayName="Card";let l=i.forwardRef((e,a)=>{let{className:n,...i}=e;return(0,t.jsx)("div",{ref:a,className:(0,r.cn)("flex flex-col space-y-1.5 p-6",n),...i})});l.displayName="CardHeader";let o=i.forwardRef((e,a)=>{let{className:n,...i}=e;return(0,t.jsx)("h3",{ref:a,className:(0,r.cn)("text-2xl font-semibold leading-none tracking-tight",n),...i})});o.displayName="CardTitle";let c=i.forwardRef((e,a)=>{let{className:n,...i}=e;return(0,t.jsx)("p",{ref:a,className:(0,r.cn)("text-sm text-muted-foreground",n),...i})});c.displayName="CardDescription";let d=i.forwardRef((e,a)=>{let{className:n,...i}=e;return(0,t.jsx)("div",{ref:a,className:(0,r.cn)("p-6 pt-0",n),...i})});d.displayName="CardContent";let u=i.forwardRef((e,a)=>{let{className:n,...i}=e;return(0,t.jsx)("div",{ref:a,className:(0,r.cn)("flex items-center p-6 pt-0",n),...i})});u.displayName="CardFooter"},1628:function(e,a,n){"use strict";n.d(a,{cn:function(){return r},xG:function(){return s}});var t=n(7042),i=n(4769);function r(){for(var e=arguments.length,a=Array(e),n=0;n<e;n++)a[n]=arguments[n];return(0,i.m6)((0,t.W)(a))}function s(e){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"USD";return new Intl.NumberFormat("en-US",{style:"currency",currency:a}).format(e)}},1396:function(e,a,n){e.exports=n(8326)}},function(e){e.O(0,[6723,8326,2971,2472,1744],function(){return e(e.s=9597)}),_N_E=e.O()}]);